<!doctype html>

<html version="9400c112f563abed433d9944b8cf4053">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>LeanCloud &#x6587;&#x6863;</title>
<script src="//cdn1.lncld.net/static/js/av-mini-0.5.4.js"></script>
<script src="custom/js/docs-all.js"></script>


<link rel="stylesheet" type="text/css" href="custom/css/app-docs.css?githubv1">


</head>


<body class="dashboard-init" data-offset="0" ng-cloak="" ng-controller="AppCtrl">
<nav class="dashboard-subnav navbar navbar-default navbar-static-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-collapse" id="app-options">
            <ul class="nav navbar-nav navbar-app-select">
                <li>
                  <a href="/applist.html" class="nav-logo font-logo">L<span class="visible-xs-inline">eanCloud</span></a>
                </li>
            </ul>

            <div class="navbar-app-actions-wrap">
                <ul class="nav navbar-nav navbar-app-actions">
                  <li class="dropdown dropdown-toggle-app-name">
                    <a href="index.html">
                      <i class="icon icon-dashbd-icon icon-blank-app"></i>
                      <div class="name">&#x6587;&#x6863;&#x9996;&#x9875;</div>
                    </a>
                  </li>


                  <li ng-class="{active:currentHtmlPage==&apos;help.html&apos;}">
                      <a class="nav-key-6 dropdown-toggle" title="&#x5E2E;&#x52A9;" data-toggle="dropdown">
                          <i class="icon icon-dashbd-icon icon-question"></i>
                          <i class="dashboard-subnav-text">&#x5E2E;&#x52A9;</i>
                      </a>
                      <ul class="dropdown-menu">
                          
                            <!-- <li><a href="start.html">快速入门</a></li> -->
                          
                          <li><a href="/docs">&#x6587;&#x6863;</a></li>
                          <li><a href="/docs/sdk_down.html">SDK &#x4E0B;&#x8F7D;</a></li>
                          <li><a href="http://ticket.leancloud.cn/tickets">&#x6280;&#x672F;&#x652F;&#x6301;</a></li>
                          <li role="presentation" class="divider"></li>
                          <li><a href="/pricing.html">&#x4EF7;&#x683C;</a></li>
                          <li><a href="/apps.html">&#x79FB;&#x52A8;&#x7AEF; App</a></li>
                          <li><a href="http://forum.leancloud.cn">&#x793E;&#x533A;</a></li>
                          <li><a href="http://blog.leancloud.cn/">Blog</a></li>
                          <li role="presentation" class="divider"></li>
                          <li><a href="https://leancloud.cn/apionline/">&#x5728;&#x7EBF; API &#x5DE5;&#x5177;</a></li>
                          <li><a href="http://drop.avosapps.com/">iOS &#x6D4B;&#x8BD5;&#x5305;&#x5206;&#x53D1;</a></li>
                          <!-- <li><a href="#" data-toggle="modal" data-target="#modal-shortcuts">快捷键</a></li> -->
                      </ul>
                  </li>

                </ul>
            </div>

            <ul class="nav navbar-nav navbar-user-actions navbar-right" ng-cloak="">


                <li class="dropdown" ng-show="user.username">
                    <a role="button" class="dropdown-toggle user-name" data-toggle="dropdown">
                        <span class="user-gravatar">
                            <img gravatar-src="user.email" gravatar-size="64">
                        </span>
                        <span class="user-name-text">{{user.username}}</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/settings.html">&#x8D26;&#x53F7;&#x8BBE;&#x7F6E;</a></li>
                        <li><a href="/applist.html">&#x63A7;&#x5236;&#x53F0;</a></li>
                        <li><a href="/settings.html#/setting/team">&#x56E2;&#x961F;&#x7BA1;&#x7406;</a></li>
                        <li><a href="/bill.html#/bill/general">&#x8D22;&#x52A1;</a></li>
                        <!-- <li><a href="settings.html#/setting/invite">邀请好友</a></li> -->
                        <li ng-show="user.username" style=""><a ng-click="signout()">&#x767B;&#x51FA;</a></li>
                    </ul>
                </li>
                <li ng-hide="user.username">
                    <a href="/login.html#/signin">&#x767B;&#x5F55;</a>
                </li>
                <li ng-hide="user.username">
                    <a href="/login.html#/signup">&#x6CE8;&#x518C;</a>
                </li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div>
    <!-- .container-fluid -->
</nav>

<header class="doc-subnav" role="banner">
  <div class="container-fluid">
    <nav class="" role="navigation">
      <ul class="nav navbar-nav">

        <li><a href="start.html">&#x5FEB;&#x901F;&#x5165;&#x95E8;</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">&#x529F;&#x80FD;&#x6982;&#x89C8;</a>
          <ul class="dropdown-menu">
            <li><a href="storage_overview.html">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x603B;&#x89C8;</a></li>
            <li><a href="push_guide.html">&#x6D88;&#x606F;&#x63A8;&#x9001;&#x670D;&#x52A1;&#x603B;&#x89C8;</a></li>
            <li><a href="realtime_v2.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x670D;&#x52A1;&#x603B;&#x89C8;</a></li>
            <li><a href="dashboard_guide.html">&#x63A7;&#x5236;&#x53F0;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="data_security.html">&#x6570;&#x636E;&#x548C;&#x5B89;&#x5168;</a></li>
            <li><a href="faq.html">&#x5E38;&#x89C1;&#x95EE;&#x9898;</a></li>
            <li><a href="tool_tips.html">&#x5E38;&#x89C1;&#x529F;&#x80FD;&#x63D0;&#x793A;</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">iOS / OS X</a>
          <ul class="dropdown-menu">
            <li><a href="ios_os_x_guide.html">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="ios_push_guide.html">&#x6D88;&#x606F;&#x63A8;&#x9001;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="ios_push_cert.html">iOS &#x63A8;&#x9001;&#x8BC1;&#x4E66;&#x8BBE;&#x7F6E;&#x6307;&#x5357;</a></li>
            <li><a href="realtime_guide-ios.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="relation_guide.html">&#x5173;&#x7CFB;&#x5EFA;&#x6A21;&#x6307;&#x5357;</a></li>
            <li><a href="acl_guide-ios.html">&#x6743;&#x9650;&#x7BA1;&#x7406;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="ios_statistics.html">&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="sms_guide-ios.html">&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="ios_crashreporting_guide.html">&#x5D29;&#x6E83;&#x62A5;&#x544A;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="ios_os_x_faq.html">FAQ</a></li>
            <li><a href="/api-docs/iOS/index.html" target="_blank">iOS SDK API</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">Android</a>
          <ul class="dropdown-menu">
            <li><a href="android_guide.html">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="android_push_guide.html">&#x6D88;&#x606F;&#x63A8;&#x9001;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="realtime_guide-android.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="acl_guide-android.html">&#x6743;&#x9650;&#x7BA1;&#x7406;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="android_statistics.html">&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="sms_guide-android.html">&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="android_faq.html">FAQ</a></li>
            <li><a href="/api-docs/android/doc/index.html" target="_blank">Android SDK API</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">JavaScript</a>
          <ul class="dropdown-menu">
            <li><a href="js_guide.html">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="js_push.html">&#x6D88;&#x606F;&#x63A8;&#x9001;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="js_realtime.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="acl_guide-js.html">&#x6743;&#x9650;&#x7BA1;&#x7406;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="sms_guide-js.html">&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="js_analytics.html">&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="js_faq.html">FAQ</a></li>
            <li><a href="/api-docs/javascript/index.html" target="_blank">JavaScript SDK API</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">.NET / Unity3D</a>
          <ul class="dropdown-menu">
            <li><a href="dotnet_guide.html">.NET &#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="unity_guide.html">Unity3D &#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="dotnet_push_guide.html">WP8.0 &#x6D88;&#x606F;&#x63A8;&#x9001;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="realtime_guide-dotnet.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="unity_statistics.html">Unity3D &#x7EDF;&#x8BA1;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="dotnet_faq.html">FAQ</a></li>
            <li><a href="/api-docs/dotnet/Help/index.html" target="_blank">.NET SDK API</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">Python</a>
          <ul class="dropdown-menu">
            <li><a href="python_guide.html">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="python_faq.html">FAQ</a></li>
            <li><a href="/api-docs/python/leancloud.html" target="_blank">Python SDK API</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">PHP</a>
          <ul class="dropdown-menu">
            <li><a href="/api-docs/php/" target="_blank">PHP SDK API</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">REST API</a>
          <ul class="dropdown-menu">
            <li><a href="rest_api.html">&#x6570;&#x636E;&#x5B58;&#x50A8; API</a></li>
            <li><a href="rest_api.html#Push_&#x901A;&#x77E5;">&#x6D88;&#x606F;&#x63A8;&#x9001; API</a></li>
            <li><a href="realtime_rest_api.html">&#x5B9E;&#x65F6;&#x901A;&#x4FE1; API</a></li>
            <li><a href="rest_sms_api.html">&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1; API</a></li>
            <li><a href="rest_api.html#&#x7EDF;&#x8BA1;&#x6570;&#x636E;_API">&#x6570;&#x636E;&#x7EDF;&#x8BA1; API</a></li>
            <li><a href="cql_guide.html">CQL &#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#x8BE6;&#x89E3;</a></li>
            <li><a href="oauth2_provider.html">&#x5F00;&#x653E;&#x5E73;&#x53F0;&#x63A5;&#x5165;</a></li>
            <li><a href="rest_faq.html">FAQ</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">&#x4E91;&#x5F15;&#x64CE;</a>
          <ul class="dropdown-menu">
          <li><a href="leanengine_guide-node.html">&#x4E91;&#x5F15;&#x64CE;&#xFF08;Node.js &#x73AF;&#x5883;&#xFF09;</a></li>
          <li><a href="leanengine_guide-python.html">&#x4E91;&#x5F15;&#x64CE;&#xFF08;Python &#x73AF;&#x5883;&#xFF09;</a></li>
          <li><a href="leanengine_guide-cloudcode.html">&#x4E91;&#x5F15;&#x64CE;&#xFF08;&#x65E7;&#x7248;&#x4E91;&#x4EE3;&#x7801;&#x73AF;&#x5883;&#xFF09;</a></li>
          <li><a href="leanengine_upgrade_3.html">&#x4E91;&#x5F15;&#x64CE; 2.0 &#x5347;&#x7EA7; 3.0 &#x6307;&#x5357;</a></li>
          <li><a href="cloud_code_commandline.html">&#x4E91;&#x5F15;&#x64CE;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;</a></li>
          <li><a href="acl_guide_leanengine.html">&#x5728;&#x4E91;&#x5F15;&#x64CE;&#x4E2D;&#x7BA1;&#x7406; ACL</a></li>
          <li><a href="cloud_code_faq.html">FAQ</a></li>
          <li><a href="js_guide.html">JavaScript &#x6307;&#x5357;</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a class="dropdown-toggle" role="button" data-toggle="dropdown" data-hover="dropdown" href="#">&#x66F4;&#x591A;</a>
          <ul class="dropdown-menu">
            <li><a href="status_system.html">&#x5E94;&#x7528;&#x5185;&#x793E;&#x4EA4;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="app_search_guide.html">&#x5E94;&#x7528;&#x5185;&#x641C;&#x7D22;&#x548C; DeepLink &#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="app_data_share.html">&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x5171;&#x4EAB;&#xFF08;Class &#x7ED1;&#x5B9A;&#xFF09;</a></li>
            <li><a href="user_groups.html">&#x7528;&#x6237;&#x7FA4;&#x5206;&#x6790;&#x6307;&#x5357;</a></li>
            <li><a href="leaninsight_guide.html">&#x79BB;&#x7EBF;&#x6570;&#x636E;&#x5206;&#x6790;&#x4F7F;&#x7528;&#x6307;&#x5357;</a></li>
            <li><a href="sns.html">SNS &#x7EC4;&#x4EF6;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li><a href="feedback.html">&#x7528;&#x6237;&#x53CD;&#x9988;&#x5F00;&#x53D1;&#x6307;&#x5357;</a></li>
            <li class="divider"></li>
            <li><a href="sdk_down.html">SDK &#x4E0B;&#x8F7D;</a></li>
           <li><a href="demo.html">Demo</a></li>
           <li><a href="http://leancloud.sexy" target="_blank">&#x7B2C;&#x4E09;&#x65B9;&#x5E93;</a></li>
          </ul>
        </li>
      </ul>
      <form class="navbar-form navbar-right" role="search" action="/search.html" method="get">
        <div class="form-group">
          <input name="q" type="text" class="form-control" placeholder="&#x641C;&#x7D22;&#x2026;">
        </div>
        <!-- <button type="submit" class="btn btn-default">Submit</button> -->
      </form>
      <!-- <ul class="nav navbar-nav navbar-right">
        <li>
          <form action="/search.html" method="get" target="_blank" class="search-form">
            <input name="q" class="search-input" placeholder="搜索&hellip;">
          </form>
        </li>
      </ul> -->
    </nav>
  </div>
</header>


<div class="container-fluid">

  <div class="row">

    <div class="sidebar-gruntfile-trigger  col-sm-3" id="left-nav">

      <div class="sidebar-affix-shadow sidebar-hover-off">

        <div class="sidebar-wrapper" id="toc-wrapper">

        </div>
        <!-- .sidebar-wrapper -->

      </div>
      <!-- .sidebar-affix-shadow -->

    </div>
    <!-- .col-md-3 -->

    <div class="col-sm-9 sidebar-gruntfile-trigger">
      <div class="doc-content with-comment" id="content">
        <h1 id="ios-os-x-">iOS / OS X &#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F00;&#x53D1;&#x6307;&#x5357;</h1>
<p version="de3b655968a6898b86c0f872e4a35938">&#x5982;&#x679C;&#x8FD8;&#x6CA1;&#x6709;&#x5B89;&#x88C5; LeanCloud iOS SDK&#xFF0C;&#x8BF7;&#x9605;&#x8BFB; <a href="/start.html">&#x5FEB;&#x901F;&#x5165;&#x95E8;</a> &#x6765;&#x83B7;&#x5F97;&#x8BE5; SDK&#xFF0C;&#x5E76;&#x5728; Xcode &#x4E2D;&#x8FD0;&#x884C;&#x548C;&#x719F;&#x6089;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x3002;&#x6211;&#x4EEC;&#x7684; SDK &#x652F;&#x6301; iOS 5.1.1 &#x53CA;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;</p>
<p version="d4752632926ff27a22372766b721917e">&#x5982;&#x679C;&#x60F3;&#x4ECE;&#x9879;&#x76EE;&#x4E2D;&#x5B66;&#x4E60;&#xFF0C;&#x8BF7;&#x5230;&#x6211;&#x4EEC;&#x7684; GitHub &#x8D44;&#x6E90;&#x5E93;&#x4E2D;&#x83B7;&#x53D6; <a href="https://github.com/leancloud/leancloud-demos#ios">iOS SDK Demos</a> &#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x63A8;&#x8350;&#x4E0E;&#x8FD9;&#x4E2A;&#x6307;&#x5357;&#x914D;&#x5957;&#x7684; <a href="https://github.com/leancloud/LeanStorage-Demo">LeanStorageDemo</a>&#x3002;</p>
<h2 id="-">&#x4ECB;&#x7ECD;</h2>
<p version="5e234b688187f1dca95628285658e8ed">LeanCloud &#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x5E73;&#x53F0;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5B83;&#x4E3A;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x63D0;&#x4F9B;&#x4E86;&#x5168;&#x65B9;&#x4F4D;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x3002;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#x662F;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x540E;&#x7AEF;&#x5F00;&#x53D1;&#x53CA;&#x670D;&#x52A1;&#x5668;&#x8FD0;&#x7EF4;&#x7B49;&#x5DE5;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x53D1;&#x548C;&#x53D1;&#x5E03;&#x6210;&#x719F;&#x7684;&#x5E94;&#x7528;&#x3002;</p>
<p version="c7783710a6c9a388e10059f0a0c3e7dd">&#x5982;&#x679C;&#x719F;&#x6089;&#x50CF; Ruby on Rails &#x8FD9;&#x6837;&#x7684; Web &#x6846;&#x67B6;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0; LeanCloud &#x5F88;&#x5BB9;&#x6613;&#x4E0A;&#x624B;&#x3002;&#x6211;&#x4EEC;&#x5728;&#x8BBE;&#x8BA1; LeanCloud &#x65F6;&#x5E94;&#x7528;&#x4E86;&#x8BB8;&#x591A;&#x4E0E;&#x4E4B;&#x76F8;&#x540C;&#x7684;&#x539F;&#x5219;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E4B;&#x524D;&#x4F7F;&#x7528;&#x8FC7; Parse &#x6216;&#x7C7B;&#x4F3C;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x8FD8;&#x4F1A;&#x53D1;&#x73B0;&#x6211;&#x4EEC;&#x7684; API &#x5C3D;&#x53EF;&#x80FD;&#x4E0E;&#x5176;&#x4FDD;&#x6301;&#x517C;&#x5BB9;&#x3002;&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x8BBE;&#x8BA1;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x8F7B;&#x800C;&#x6613;&#x4E3E;&#x5730;&#x5C06;&#x5E94;&#x7528;&#x4ECE;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x8FC1;&#x79FB;&#x81F3; LeanCloud&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x5F97;&#x5FC3;&#x5E94;&#x624B;&#x5730;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x7684; SDK &#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x3002;</p>
<h2 id="-">&#x5FEB;&#x901F;&#x5165;&#x95E8;</h2>
<p version="1087668bdfeb518061b9364d45a518f4">&#x5EFA;&#x8BAE;&#x5728;&#x9605;&#x8BFB;&#x672C;&#x6587;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x9605;&#x8BFB; <a href="/start.html">&#x5FEB;&#x901F;&#x5165;&#x95E8;</a>&#xFF0C;&#x4E86;&#x89E3;&#x5982;&#x4F55;&#x914D;&#x7F6E;&#x548C;&#x4F7F;&#x7528; LeanCloud&#x3002;</p>
<h2 id="sdk-">SDK &#x5B89;&#x88C5;</h2>
<p version="3e0eebb3961bdd44255e4589d1a52cc9">&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x9488;&#x5BF9; iOS / OS X SDK &#x8BE6;&#x7EC6;&#x7684;&#x5B89;&#x88C5;&#x6307;&#x5357;&#xFF1A;<a href="sdk_setup-ios.html">LeanCloud iOS / OS X SDK &#x5B89;&#x88C5;&#x6307;&#x5357;</a></p>
<h2 id="-">&#x5BF9;&#x8C61;</h2>
<h3 id="avobject">AVObject</h3>
<p version="18b24417ec1282838af08982bcd04684">LeanCloud &#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x5BF9;&#x8C61; --- <code>AVObject</code> &#x57FA;&#x7840;&#x4E0A;&#x7684;&#xFF0C;&#x6BCF;&#x4E2A; <code>AVObject</code> &#x5305;&#x542B;&#x82E5;&#x5E72;&#x5C5E;&#x6027;&#x503C;&#x5BF9;&#xFF08;key-value&#xFF0C;&#x4E5F;&#x79F0;&#x300C;&#x952E;&#x503C;&#x5BF9;&#x300D;&#xFF09;&#xFF0C;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x662F;&#x4E0E; JSON &#x683C;&#x5F0F;&#x517C;&#x5BB9;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x9884;&#x5148;&#x6307;&#x5B9A;&#x6BCF;&#x4E2A; <code>AVObject</code> &#x5305;&#x542B;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x53EA;&#x8981;&#x76F4;&#x63A5;&#x8BBE;&#x5B9A;&#x5C5E;&#x6027;&#x503C;&#x5BF9;&#x5373;&#x53EF;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#x3002;</p>
<p version="8b21ae253015a9a6753fc7ef74833141">&#x5047;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;&#x5FAE;&#x535A;&#x7684;&#x793E;&#x4EA4; app&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x4E09;&#x7C7B;&#x6570;&#x636E;&#xFF1A;&#x8D26;&#x6237;&#x3001;&#x5E16;&#x5B50;&#x3001;&#x8BC4;&#x8BBA;&#x3002;&#x4EE5;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x7C7B;&#x540D;&#x4E3A; <code>Post</code> &#x7684; <code>AVObject</code> &#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x51E0;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;</p>
<pre version="74232f5c01a97d95c72af1f7e3973c62"><code>content: &quot;&#x6BCF;&#x4E2A; Objective-C &#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x7684; 8 &#x4E2A;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&quot;, pubUser: &quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;, pubTimestamp: 1435541999
</code></pre><p version="6ee8c3fd604c92ee9d9bcd4bd9d6ef87">&#x5C5E;&#x6027;&#x540D;&#xFF08;&#x4E5F;&#x79F0;&#x300C;&#x952E;&#x300D;&#xFF0C;key&#xFF09;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x7531;&#x5B57;&#x6BCD;&#x3001;&#x6570;&#x5B57;&#x6216;&#x4E0B;&#x5212;&#x7EBF;&#x7EC4;&#x6210;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1B;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;&#x540D;&#xFF0C;&#x4E0D;&#x80FD;&#x4EE5; <code>__</code>&#xFF08;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#xFF09;&#x5F00;&#x5934;&#x3002;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x5B57;&#x3001;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x6216;&#x662F;&#x6570;&#x7EC4;&#x548C;&#x5B57;&#x5178;&#x3002;</p>
<p version="3cb742702d5ac621498e35593f5460c2"><strong>&#x6CE8;&#x610F;&#xFF1A;&#x4EE5;&#x4E0B;&#x4E3A;&#x7CFB;&#x7EDF;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;&#xFF0C;&#x4E0D;&#x80FD;&#x4F5C;&#x4E3A;&#x5C5E;&#x6027;&#x540D;&#x6765;&#x4F7F;&#x7528;&#x3002;</strong></p>
<pre version="b51db73436095fd7f429069f76984455"><code>acl             error            pendingKeys
ACL             fetchWhenSave    running
className       id               updatedAt
code            isDataReady      uuid
createdAt       keyValues
description     objectId
</code></pre><p version="2fbaeb1d4d850c29ddd542c5f01d853e">&#x6BCF;&#x4E2A; <code>AVObject</code> &#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#xFF08;Class&#xFF09;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x4FBF;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x53EF;&#x53D6;&#x540D;&#x4E3A; <code>Post</code>&#x3002;</p>
<p version="ab94f45aae1025ed416179537ebf2bb1">&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x5C06;&#x7C7B;&#x548C;&#x5C5E;&#x6027;&#x540D;&#x5206;&#x522B;&#x6309;&#x7167; <code>NameYourClassesLikeThis</code> &#x548C; <code>nameYourKeysLikeThis</code> &#x8FD9;&#x6837;&#x7684;&#x60EF;&#x4F8B;&#x6765;&#x547D;&#x540D;&#xFF0C;&#x5373;&#x533A;&#x5206;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x7684;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x548C;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x3002;</p>
<h3 id="-">&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;</h3>
<p version="b3f8ad17f4175fead1b1c1a163b8e541">&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x4E0A;&#x6587;&#x4E2D;&#x7684; <code>Post</code> &#x5B58;&#x50A8;&#x5230; LeanCloud &#x4E0A;&#x3002;LeanCloud &#x7684;&#x76F8;&#x5173;&#x63A5;&#x53E3;&#x548C; <code>NSMutableDictionary</code> &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x5728;&#x8C03;&#x7528; <code>save</code> &#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x624D;&#x4F1A;&#x88AB;&#x771F;&#x6B63;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#x3002;</p>
<pre version="624a4b25bcb9a4299c9b255889033251"><code class="lang-objc">AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
[post setObject:@&quot;&#x6BCF;&#x4E2A; Objective-C &#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x7684; 8 &#x4E2A;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&quot; forKey:@&quot;content&quot;];
[post setObject:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot; forKey:@&quot;pubUser&quot;];
[post setObject:[NSNumber numberWithInt:1435541999] forKey:@&quot;pubTimestamp&quot;];
[post save];
</code></pre>
<p version="0ee44beca310b05757125570bcba2487">&#x6216;&#x8005;&#x7528;&#x4E0B;&#x6807;&#x7528;&#x6CD5;&#xFF1A;</p>
<pre version="5697d0104b0b91c82b208931d4ae4655"><code class="lang-objc">AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
post[@&quot;content&quot;] = @&quot;&#x6BCF;&#x4E2A; Objective-C &#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x7684; 8 &#x4E2A;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&quot;;
post[@&quot;pubUser&quot;] = @&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;;
post[@&quot;pubTimestamp&quot;] = @(1435541999);
[post save];
</code></pre>
<p version="f089da8db2b53bdde8dd35d2ee34dcc6">&#x8FD0;&#x884C;&#x6B64;&#x4EE3;&#x7801;&#x540E;&#xFF0C;&#x8981;&#x60F3;&#x786E;&#x8BA4;&#x4FDD;&#x5B58;&#x52A8;&#x4F5C;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x751F;&#x6548;&#xFF0C;&#x53EF;&#x4EE5;&#x5230; LeanCloud &#x5E94;&#x7528;&#x7BA1;&#x7406;&#x5E73;&#x53F0;&#x7684; <a href="/data.html?appid={{appid}}">&#x6570;&#x636E;&#x7BA1;&#x7406;</a> &#x9875;&#x9762;&#x6765;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x60C5;&#x51B5;&#x3002;</p>
<p version="8eb4e0a291c9d6cc195fa8eb8d5df6e9">&#x5982;&#x679C;&#x4FDD;&#x5B58;&#x6210;&#x529F;&#xFF0C;<code>Post</code> &#x7684;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x5E94;&#x8BE5;&#x663E;&#x793A;&#x51FA;&#x4EE5;&#x4E0B;&#x8BB0;&#x5F55;&#xFF1A;</p>
<pre version="834141e1f404c87c39ce77dcff922bad"><code class="lang-objc">objectId: &quot;558e20cbe4b060308e3eb36c&quot;, content: &quot;&#x6BCF;&#x4E2A; Objective-C &#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x7684; 8 &#x4E2A;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&quot;, pubUser: &quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;, pubTimestamp: 1435541999,
createdAt:&quot;2015-06-29 09:39:35&quot;, updatedAt:&quot;2015-06-29 09:39:35&quot;
</code></pre>
<p version="c8e0894e903ec0c3d0fb31ddb5e45878">&#x5728;&#x6B64;&#x8981;&#x7279;&#x522B;&#x8BF4;&#x660E;&#x4E24;&#x70B9;&#xFF1A;</p>
<ol>
<li><p version="3c4f0e155469d2fb2a170924657ef64b">&#x8FD0;&#x884C;&#x6B64;&#x4EE3;&#x7801;&#x524D;&#xFF0C;&#x4E0D;&#x7528;&#x914D;&#x7F6E;&#x6216;&#x8BBE;&#x7F6E; <code>Post</code> &#x7C7B;&#xFF0C;LeanCloud &#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x7C7B;&#x3002;</p>
</li>
<li><p version="3303735d3c76f572dab940a3dc336846">&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A; AVObject&#xFF0C;&#x7CFB;&#x7EDF;&#x5185;&#x7F6E;&#x4E86;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x4E0B;&#x5B57;&#x6BB5;&#x4E0D;&#x9700;&#x8981;&#x63D0;&#x524D;&#x6307;&#x5B9A;&#xFF1A;</p>
<ul>
<li><code>objectId</code> &#x662F;&#x4E3A;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x552F;&#x4E00;&#x7684;&#x6807;&#x8BC6;&#x7B26;</li>
<li><code>createdAt</code> &#x548C; <code>updatedAt</code> &#x5206;&#x522B;&#x4EE3;&#x8868;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5728; LeanCloud &#x4E2D;&#x521B;&#x5EFA;&#x548C;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x8D4B;&#x503C;&#x3002;</li>
</ul>
<p version="9052ab9611a32767f7dfbbc77043cdbc">&#x5728;&#x6267;&#x884C;&#x4FDD;&#x5B58;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E0D;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x4FDD;&#x5B58;&#x5230; <code>AVObject</code> &#x4E2D;&#x3002;</p>
</li>
</ol>
<h3 id="-">&#x68C0;&#x7D22;&#x5BF9;&#x8C61;</h3>
<p version="93a8f99c3a965bcb81f833de65649e60">&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230; LeanCloud &#x4E0A;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x7B80;&#x5355;&#x800C;&#x76F4;&#x89C2;&#xFF0C;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;&#x5982;&#x679C;&#x5DF2;&#x77E5; <code>objectId</code>&#xFF0C;&#x7528; <code>AVQuery</code> &#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5230;&#x5BF9;&#x5E94;&#x7684; <code>AVObject</code> &#x5B9E;&#x4F8B;&#xFF1A;</p>
<pre version="d4d497fd9a1c3e1abf6fe099c2732d66"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
AVObject *post = [query getObjectWithId:@&quot;558e20cbe4b060308e3eb36c&quot;];
</code></pre>
<p version="29402081f6637965aa9a71225ec7706b">&#x63A5;&#x4E0B;&#x6765;&#x53EF;&#x4EE5;&#x7528; <code>objectForKey:</code>&#x6216;&#x4E0B;&#x6807;&#x8BED;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C;&#xFF1A;</p>
<pre version="47c924385b9622e74e7206c2c84e0b43"><code class="lang-objc">int timestamp = [[post objectForKey:@&quot;pubTimestamp&quot;] intValue];
NSString *userName = [post objectForKey:@&quot;pubUser&quot;];
NSString *content = post[@&quot;content&quot;];
</code></pre>
<p version="ef28deea628838fd1a92b4349ad49dcd">&#x83B7;&#x53D6;&#x4E09;&#x4E2A;&#x7279;&#x6B8A;&#x5C5E;&#x6027;&#xFF1A;</p>
<pre version="d52246fe88544e314f971751c1afdbbd"><code class="lang-objc">NSString *objectId = post.objectId;
NSDate *updatedAt = post.updatedAt;
NSDate *createdAt = post.createdAt;
</code></pre>
<p version="6a1949e4e3a5ebb03018021e8680e0e8">&#x5982;&#x679C;&#x9700;&#x8981;&#x5237;&#x65B0;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x6700;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x8C03;&#x7528; <code>refresh</code> &#x65B9;&#x6CD5; &#xFF1A;</p>
<pre version="d3b39da4879dd8d77a9df4ea018961c0"><code class="lang-objc">[myObject refresh];
</code></pre>
<h3 id="-">&#x540E;&#x53F0;&#x8FD0;&#x884C;</h3>
<p version="85124c22658250afd01f9f3661fe19d8">&#x5728; iOS &#x6216; OS X &#x4E2D;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x662F;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x8BBF;&#x95EE;&#x7F51;&#x7EDC;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x5E38;&#x4F1A;&#x53D1;&#x751F;&#x5361;&#x987F;&#x6216;&#x5D29;&#x6E83;&#x73B0;&#x8C61;&#x3002;</p>
<p version="e6c52a903c4498dde186f40031784721">&#x7531;&#x4E8E; <code>save</code> &#x548C; <code>getObjectWithId</code> &#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x8BBF;&#x95EE; LeanCloud &#x4E91;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5E94;&#x5F53;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E0A;&#x8FD0;&#x884C;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E00;&#x822C;&#x5904;&#x7406;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;LeanCloud &#x63D0;&#x4F9B;&#x4E86;&#x8F85;&#x52A9;&#x65B9;&#x6CD5;&#xFF0C;&#x80FD;&#x591F;&#x8986;&#x76D6;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5E94;&#x7528;&#x573A;&#x666F;&#x3002;</p>
<p version="668741d6ad8bf143601c2c9349c8366f">&#x4F8B;&#x5982;&#xFF0C;&#x65B9;&#x6CD5; <code>saveInBackground</code> &#x53EF;&#x5728;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x4E2D;&#x4FDD;&#x5B58;&#x4E4B;&#x524D;&#x7684; <code>AVObject</code> &#x5B9E;&#x4F8B;&#xFF1A;</p>
<pre version="162b8d5ba6ac094e23273eeba37627ce"><code class="lang-objc">[post saveInBackground];
</code></pre>
<p version="27e18ebea2c05b15ee10b12b86d9b858">&#x8FD9;&#x6837;&#xFF0C;<code>saveInBackground</code> &#x7684;&#x8C03;&#x7528;&#x4F1A;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#xFF0C;&#x800C;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF0C;&#x5E94;&#x7528;&#x4F1A;&#x4FDD;&#x6301;&#x5728;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x3002;</p>
<p version="d6673db7ea46466f8bf6eb095aaa81d6">&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8981;&#x5728;&#x67D0;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#x7ACB;&#x5373;&#x8FD0;&#x884C;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Block&#xFF08;<code>...WithBlock</code> &#xFF1A;&#x4EC5;&#x652F;&#x6301; iOS 4.0+ &#x6216; OS X 10.6+&#xFF09;&#x6216;&#x56DE;&#x8C03;&#xFF08;<code>...CallBack</code>&#xFF09;&#x65B9;&#x6CD5;&#x3002;</p>
<p version="fad3afd9476fa6b57b320920dd71374b">&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x4FDD;&#x5B58;&#x5B8C;&#x6210;&#x540E;&#x8FD0;&#x884C;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre version="5f4010a6f0f1adf1b4f33e2a6caf25f2"><code class="lang-objc">[post saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
  if (!error) {
    // post &#x4FDD;&#x5B58;&#x6210;&#x529F;
  } else {
    // &#x4FDD;&#x5B58; post &#x65F6;&#x51FA;&#x9519;
  }
}];
</code></pre>
<p version="11655730631ddda03fe45bc9679b3b1b">&#x6216;&#x8005;&#x5199;&#x6210;&#x56DE;&#x8C03;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre version="d6ea52a102108175258811820d989e28"><code class="lang-objc">// &#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;
- (void)saveCallback:(NSNumber *)result error:(NSError *)error {
  if (!error) {
    // post &#x4FDD;&#x5B58;&#x6210;&#x529F;
  } else {
    // &#x4FDD;&#x5B58; post &#x65F6;&#x51FA;&#x9519;
  }
}

// &#x7136;&#x540E;&#x5728;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E2D;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;
[post saveInBackgroundWithTarget:self
                        selector:@selector(saveCallback:error:)];
</code></pre>
<p version="787841a8b438839cc7cc696fb8a48614">LeanCloud &#x5728;&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x901A;&#x8BAF;&#x65F6;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#xFF0C;Block &#x6216;&#x56DE;&#x8C03;&#x4F1A;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x4E0D;&#x4F1A;&#x5BF9; UI &#x4EA7;&#x751F;&#x4E0D;&#x826F;&#x5F71;&#x54CD;&#xFF0C;&#x5728;&#x56DE;&#x8C03;&#x4E2D;&#x53EF;&#x5BF9; UI &#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p>
<p version="af832aedde9086f4a493a53077f262b9"><code>AVQuery</code> &#x4E5F;&#x9075;&#x5FAA;&#x76F8;&#x540C;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4ECE;&#x5BF9;&#x8C61; <code>Post</code> &#x83B7;&#x53D6;&#x5E76;&#x4FEE;&#x6539;&#x67D0;&#x4E00;&#x6761;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#xFF0C;&#x540C;&#x65F6;&#x53C8;&#x786E;&#x4FDD;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#xFF1A;</p>
<pre version="ff3b0638809d8120116c626c4954f1cd"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query getObjectInBackgroundWithId:@&quot;558e20cbe4b060308e3eb36c&quot;
                             block:^(AVObject *post, NSError *error) {
  if (!error) {
    // get &#x8BF7;&#x6C42;&#x6210;&#x529F;&#x5B8C;&#x6210;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x5728; post &#x5B9E;&#x4F8B;&#x4E2D;
    NSLog(@&quot;The content was: %@&quot;, [post objectForKey:@&quot;content&quot;]);
  } else {
    // &#x8BF7;&#x6C42;&#x5931;&#x8D25;&#xFF0C;&#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
    NSLog(@&quot;Error: %@ %@&quot;, error, [error userInfo]);
  }
}];
</code></pre>
<p version="619eb3c1a7559f593c092d71fef9f741">&#x6216;&#x7528;&#x56DE;&#x8C03;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre version="827fccfe93aeeaf1852fb12a9d1d0667"><code class="lang-objc">// &#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;
- (void)getCallback:(AVObject *)post error:(NSError *)error {
  if (!error) {
    // get &#x8BF7;&#x6C42;&#x6210;&#x529F;&#x5B8C;&#x6210;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x5728; post &#x5B9E;&#x4F8B;&#x4E2D;
    NSLog(@&quot;The content was: %@&quot;, [post objectForKey:@&quot;content&quot;]);
  } else {
    // &#x8BF7;&#x6C42;&#x5931;&#x8D25;&#xFF0C;&#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
    NSLog(@&quot;Error: %@ %@&quot;, error, [error userInfo]);
  }
}

// &#x7136;&#x540E;&#x5728;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E2D;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;
AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query getObjectInBackgroundWithId:@&quot;558e20cbe4b060308e3eb36c&quot;
                            target:self
                          selector:@selector(getCallback:error:)];
</code></pre>
<h3 id="-">&#x79BB;&#x7EBF;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;</h3>
<p version="6b5cf7b94644e5af383a2455a9a144d3">&#x5927;&#x591A;&#x6570;&#x4FDD;&#x5B58;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x7ACB;&#x523B;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x901A;&#x77E5;&#x5E94;&#x7528;&#x300C;&#x4FDD;&#x5B58;&#x5B8C;&#x6BD5;&#x300D;&#x3002;&#x4E0D;&#x8FC7;&#x82E5;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4FDD;&#x5B58;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x53EF;&#x4F7F;&#x7528; <code>saveEventually</code> &#x6765;&#x4EE3;&#x66FF;&#x3002;</p>
<p version="3cd464f84de379d270a0281c369eda96">&#x5B83;&#x7684;&#x4F18;&#x70B9;&#x5728;&#x4E8E;&#xFF1A;&#x5982;&#x679C;&#x7528;&#x6237;&#x76EE;&#x524D;&#x5C1A;&#x672A;&#x63A5;&#x5165;&#x7F51;&#x7EDC;&#xFF0C;<code>saveEventually</code> &#x4F1A;&#x7F13;&#x5B58;&#x8BBE;&#x5907;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x5728;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x6062;&#x590D;&#x540E;&#x4E0A;&#x4F20;&#x3002;&#x5982;&#x679C;&#x5E94;&#x7528;&#x5728;&#x7F51;&#x7EDC;&#x6062;&#x590D;&#x4E4B;&#x524D;&#x5C31;&#x88AB;&#x5173;&#x95ED;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x5B83;&#x4E0B;&#x4E00;&#x6B21;&#x6253;&#x5F00;&#x65F6;&#xFF0C;LeanCloud &#x4F1A;&#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x4FDD;&#x5B58;&#x64CD;&#x4F5C;&#x3002;</p>
<p version="13f8740b3508ad04f0038dc2112b6e51">&#x6240;&#x6709; <code>saveEventually</code>&#xFF08;&#x6216; <code>deleteEventually</code>&#xFF09;&#x7684;&#x76F8;&#x5173;&#x8C03;&#x7528;&#xFF0C;&#x5C06;&#x6309;&#x7167;&#x8C03;&#x7528;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x591A;&#x6B21;&#x5BF9;&#x67D0;&#x4E00;&#x5BF9;&#x8C61;&#x4F7F;&#x7528; <code>saveEventually</code> &#x662F;&#x5B89;&#x5168;&#x7684;&#x3002;</p>
<pre version="04e0be5a58afccd13b32e6b0dc2bbc13"><code class="lang-objc">// &#x521B;&#x5EFA;&#x5BF9;&#x8C61;
AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
[post setObject:@&quot;&#x5C45;&#x6709;&#x826F;&#x7530;&#xFF0C;&#x98DF;&#x6709;&#x9ECD;&#x7A37;&#xFF1B;&#x8EAC;&#x8015;&#x5C71;&#x9593;&#xFF0C;&#x512A;&#x6E38;&#x4EBA;&#x4E16;&#xFF1B;&#x751F;&#x4E4B;&#x6240;&#x5F80;&#xFF0C;&#x4E0D;&#x904E;&#x826F;&#x98A8;&#x5E74;&#x5E74;&#x3002;&quot; forKey:@&quot;content&quot;];
[post setObject:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot; forKey:@&quot;pubUser&quot;];
[post setObject:[NSNumber numberWithInt:1435541999] forKey:@&quot;pubTimestamp&quot;];
[post saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {

    [post setObject:@&quot;http://tp1.sinaimg.cn/3652761852/50/5730347813/0&quot; forKey:@&quot;pubUserAvatar&quot;];
    [post saveEventually];
}];
</code></pre>
<h3 id="-">&#x66F4;&#x65B0;&#x5BF9;&#x8C61;</h3>
<p version="d28979d1336df2517355cde962014274">&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4EC5;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5176;&#x5C5E;&#x6027;&#xFF0C;&#x518D;&#x8C03;&#x7528;&#x4FDD;&#x5B58;&#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre version="a6f8346d144dcda61f0b442244beae19"><code class="lang-objc">// &#x521B;&#x5EFA;&#x5BF9;&#x8C61;
AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
[post setObject:@&quot;&#x5C45;&#x6709;&#x826F;&#x7530;&#xFF0C;&#x98DF;&#x6709;&#x9ECD;&#x7A37;&#xFF1B;&#x8EAC;&#x8015;&#x5C71;&#x9593;&#xFF0C;&#x512A;&#x6E38;&#x4EBA;&#x4E16;&#xFF1B;&#x751F;&#x4E4B;&#x6240;&#x5F80;&#xFF0C;&#x4E0D;&#x904E;&#x826F;&#x98A8;&#x5E74;&#x5E74;&#x3002;&quot; forKey:@&quot;content&quot;];
[post setObject:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot; forKey:@&quot;pubUser&quot;];
[post setObject:[NSNumber numberWithInt:1435541999] forKey:@&quot;pubTimestamp&quot;];
[post saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {

    // &#x589E;&#x52A0;&#x4E9B;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6B21;&#x53EA;&#x66F4;&#x65B0;&#x5934;&#x50CF;&#x548C;&#x8BA4;&#x8BC1;&#x7B49;&#x7EA7;&#x4FE1;&#x606F;
    [post setObject:@&quot;http://tp1.sinaimg.cn/3652761852/50/5730347813/0&quot; forKey:@&quot;pubUserAvatar&quot;];
    [post setObject:[NSNumber numberWithInt:4] forKey:@&quot;pubUserCertificate&quot;];
    [post saveInBackground];
}];
</code></pre>
<p version="8eae68b080845bfafb04d6a64a66ddaa">SDK &#x5185;&#x90E8;&#x4F1A;&#x81EA;&#x52A8;&#x8BA1;&#x7B97;&#x51FA;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#xFF0C;&#x5E76;&#x5C06;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x7684;&#x5B57;&#x6BB5;&#x53D1;&#x9001;&#x7ED9; LeanCloud &#x4E91;&#x7AEF;&#x3002;&#x672A;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x53D8;&#x52A8;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x8BF7;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x3002;</p>
<p version="e090a107a06529abe4efae096efad99c"><strong>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;LeanCloud &#x4E0A;&#x7684;&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x83B7;&#x5F97;&#x5BF9;&#x8C61;&#x7684; objectId &#x4E3B;&#x952E;&#x624D;&#x53EF;&#x4EE5;&#x53BB;&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#x3002;&#x670D;&#x52A1;&#x7AEF;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x65B0;&#x589E;&#x8FD8;&#x662F;&#x66F4;&#x65B0;&#xFF0C;&#x662F;&#x6839;&#x636E;&#x6709;&#x6CA1;&#x6709; objectId &#x6765;&#x51B3;&#x5B9A;&#x7684;&#x3002;</strong></p>
<p version="52cb0347e805e41500fc09d458050347">&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x5148;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x5728; saveInBackgroundWithBlock &#x7684; block &#x91CC;&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x8FC7;&#x66F4;&#x5E38;&#x89C1;&#x7684;&#x573A;&#x666F;&#x662F;&#x4F60;&#x901A;&#x8FC7;<a href="#&#x67E5;&#x8BE2;">&#x67E5;&#x8BE2;</a>&#x5F97;&#x5230;&#x4E00;&#x4E2A; AVObject &#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x90A3;&#x6837;&#xFF0C;&#x4FEE;&#x6539;&#x5C5E;&#x6027;&#xFF0C;&#x8C03;&#x7528; saveInBackground &#x5373;&#x53EF;&#x3002;</p>
<p version="ae1f029c304d7147cde8c5b4243ac267">&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x4E86; objectId&#xFF08;&#x4F8B;&#x5982;&#x4ECE;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x5217;&#x8868;&#x9875;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x4F20;&#x5165;&#x4E86; objectId&#xFF09;&#xFF0C;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x7C7B;&#x4F3C;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6765;&#x66F4;&#x65B0;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF1A;</p>
<pre version="fd952d633501a61ad3a76a559a489c4b"><code class="lang-objc">// &#x77E5;&#x9053; objectId&#xFF0C;&#x521B;&#x5EFA; AVObject
AVObject *post = [AVObject objectWithoutDataWithClassName:@&quot;Post&quot; objectId:@&quot;5590cdfde4b00f7adb5860c8&quot;];
//&#x66F4;&#x65B0;&#x5C5E;&#x6027;
[post setObject:@&quot;http://tp1.sinaimg.cn/3652761852/50/5730347813/0&quot; forKey:@&quot;pubUserAvatar&quot;];
[post setObject:[NSNumber numberWithInt:4] forKey:@&quot;pubUserCertificate&quot;];
//&#x4FDD;&#x5B58;
[post saveInBackground];
</code></pre>
<h3 id="-">&#x8BA1;&#x6570;&#x5668;</h3>
<p version="7d9af50abe2fff87b99480691a09d135">&#x8BB8;&#x591A;&#x5E94;&#x7528;&#x90FD;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x8BA1;&#x6570;&#x5668;&#x529F;&#x80FD;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x6761;&#x5FAE;&#x535A;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BB0;&#x5F55;&#x6709;&#x591A;&#x5C11;&#x4EBA;&#x559C;&#x6B22;&#x6216;&#x8005;&#x8F6C;&#x53D1;&#x4E86;&#x5B83;&#x3002;&#x4F46;&#x53EF;&#x80FD;&#x5F88;&#x591A;&#x6B21;&#x559C;&#x6B22;&#x90FD;&#x662F;&#x540C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x628A;&#x5B83;&#x4EEC;&#x8BFB;&#x5230;&#x7684;&#x8BA1;&#x6570;&#x503C;&#x589E;&#x52A0;&#x4E4B;&#x540E;&#x518D;&#x5199;&#x56DE;&#x53BB;&#xFF0C;&#x90A3;&#x4E48;&#x6781;&#x5BB9;&#x6613;&#x5F15;&#x53D1;&#x51B2;&#x7A81;&#x548C;&#x8986;&#x76D6;&#xFF0C;&#x5BFC;&#x81F4;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x4E0D;&#x51C6;&#xFF0C;&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x7528; <code>incrementKey:</code> &#x4EE5;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x8BA1;&#x6570;&#xFF1A;</p>
<pre version="643e90cf2c18c8428dbe737722eba04b"><code class="lang-objc">AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
[post setObject:@&quot;&#x5C45;&#x6709;&#x826F;&#x7530;&#xFF0C;&#x98DF;&#x6709;&#x9ECD;&#x7A37;&#xFF1B;&#x8EAC;&#x8015;&#x5C71;&#x9593;&#xFF0C;&#x512A;&#x6E38;&#x4EBA;&#x4E16;&#xFF1B;&#x751F;&#x4E4B;&#x6240;&#x5F80;&#xFF0C;&#x4E0D;&#x904E;&#x826F;&#x98A8;&#x5E74;&#x5E74;&#x3002;&quot; forKey:@&quot;content&quot;];
[post setObject:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot; forKey:@&quot;pubUser&quot;];
[post setObject:[NSNumber numberWithInt:1435541999] forKey:@&quot;pubTimestamp&quot;];
[post setObject:[NSNumber numberWithInt:0] forKey:@&quot;upvotes&quot;]; //&#x521D;&#x59CB;&#x503C;&#x4E3A; 0
[post saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
    // &#x589E;&#x52A0;&#x70B9;&#x8D5E;&#x7684;&#x4EBA;&#x6570;
    [post incrementKey:@&quot;upvotes&quot;];
    [post saveInBackground];
}];
</code></pre>
<p version="6d83387b10cbd5221a29a758819bc738">&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>incrementKey:byAmount:</code> &#x6765;&#x7ED9; Number &#x7C7B;&#x578B;&#x5B57;&#x6BB5;&#x7D2F;&#x52A0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x6570;&#x503C;&#x3002;</p>
<p version="d272c5fa571912f3179e14d54008c513">&#x80FD;&#x4E0D;&#x80FD;&#x4E0D;&#x7528;&#x7279;&#x610F;&#x53BB;&#x505A; <code>fetch</code>&#xFF0C;&#x5C31;&#x9A6C;&#x4E0A;&#x5F97;&#x5230;&#x8BA1;&#x6570;&#x5668;&#x5F53;&#x524D;&#x5728;&#x540E;&#x7AEF;&#x7684;&#x6700;&#x65B0;&#x6570;&#x636E;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528; <code>fetchWhenSave</code> &#x5C5E;&#x6027;&#x3002;&#x5F53;&#x5B83;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>true</code> &#x65F6;&#xFF0C;SDK &#x4F1A;&#x5728;&#x4FDD;&#x5B58;&#x64CD;&#x4F5C;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x81EA;&#x52A8;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x6700;&#x65B0;&#x6570;&#x503C;&#x3002;</p>
<pre version="1941164d60019a5371fac4006ff08745"><code class="lang-objc">post.fetchWhenSave = YES;
[post incrementKey:@&quot;upvotes&quot;];
[post saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
    // &#x8FD9;&#x65F6;&#x5019; post.upvotes &#x7684;&#x503C;&#x4F1A;&#x662F;&#x6700;&#x65B0;&#x7684;
}];
</code></pre>
<h3 id="-">&#x6570;&#x7EC4;</h3>
<p version="186b420978696774d37a82992dec4ec6">&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x5730;&#x5B58;&#x50A8;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;LeanCloud &#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x6765;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x6570;&#x7EC4;&#x5B57;&#x6BB5;&#xFF1A;</p>
<ul>
<li><code>addObject:forKey:</code><br>
<code>addObjectsFromArray:forKey:</code><br>
&#x5C06;&#x6307;&#x5B9A;&#x5BF9;&#x8C61;&#x9644;&#x52A0;&#x5230;&#x6570;&#x7EC4;&#x672B;&#x5C3E;&#x3002;</li>
<li><code>addUniqueObject:forKey:</code><br>
<code>addUniqueObjectsFromArray:forKey:</code><br>
&#x5982;&#x679C;&#x4E0D;&#x786E;&#x5B9A;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x5DF2;&#x5305;&#x542B;&#x5728;&#x6570;&#x7EC4;&#x5B57;&#x6BB5;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x64CD;&#x4F5C;&#x6765;&#x6DFB;&#x52A0;&#x3002;&#x5BF9;&#x8C61;&#x7684;&#x63D2;&#x5165;&#x4F4D;&#x7F6E;&#x662F;&#x968F;&#x673A;&#x7684;&#x3002;  </li>
<li><code>removeObject:forKey:</code><br>
<code>removeObjectsInArray:forKey:</code><br>
&#x4ECE;&#x6570;&#x7EC4;&#x5B57;&#x6BB5;&#x4E2D;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x3002;</li>
</ul>
<p version="c360ae91d140b6173353b388235a241f">&#x4F8B;&#x5982;&#xFF0C;&#x7ED9;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#x6DFB;&#x52A0; tags &#x5B57;&#x6BB5;&#xFF1A;</p>
<pre version="f7e678c9dbe4e61637636717e283d0ce"><code class="lang-objc">[post addUniqueObjectsFromArray:[NSArray arrayWithObjects:@&quot;&#x7F16;&#x7A0B;&quot;, @&quot;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&quot;, nil] forKey:@&quot;tags&quot;];
[post saveInBackground];
</code></pre>
<h3 id="-">&#x5220;&#x9664;&#x5BF9;&#x8C61;</h3>
<p version="2d90cc7504ac29db4f13daa15e3014d0">&#x4ECE; LeanCloud &#x4E2D;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre version="58bec52f2ee69c2091cf2f2a4676b71c"><code class="lang-objc">[myObject deleteInBackground];
</code></pre>
<p version="9c76bf7ddded3c6411fe9a88abb81052">&#x5982;&#x679C;&#x60F3;&#x901A;&#x8FC7;&#x56DE;&#x8C03;&#x6765;&#x786E;&#x8BA4;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; <code>deleteInBackgroundWithBlock:</code> &#x6216; <code>deleteInBackgroundWithTarget:selector:</code>&#x3002;&#x5982;&#x679C;&#x60F3;&#x5F3A;&#x5236;&#x5728;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#xFF0C;&#x4F7F;&#x7528; <code>delete</code>&#x3002;</p>
<p version="dff6932460c4a493005567f47b2e3a5c"><code>removeObjectForKey:</code> &#x65B9;&#x6CD5;&#x4F1A;&#x5220;&#x9664; AVObject &#x5B9E;&#x4F8B;&#x7684;&#x5355;&#x4E2A;&#x5C5E;&#x6027;&#x3002;</p>
<pre version="5b7f195dc4ebeb69bbef5a508d77ea46"><code class="lang-objc">// &#x5220;&#x9664; post &#x5B9E;&#x4F8B;&#x4E2D; pubTimestamp &#x5B57;&#x6BB5;&#x7684;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; createdAt &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;
[myObject removeObjectForKey:@&quot;pubTimestamp&quot;];

// &#x5B57;&#x6BB5;&#x5220;&#x9664;&#x540E;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5230;&#x4E91;&#x7AEF;
[myObject saveInBackground];
</code></pre>
<h3 id="-">&#x5173;&#x8054;&#x6570;&#x636E;</h3>
<p version="6a25d79dcf4a440b9f24b7924e987ac4">&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x4E0E;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x76F8;&#x8054;&#x7CFB;&#x3002;&#x5982;&#x524D;&#x9762;&#x6240;&#x8FF0;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x4E2A; AVObject &#x7684;&#x5B9E;&#x4F8B; a&#xFF0C;&#x5F53;&#x6210;&#x53E6;&#x4E00;&#x4E2A; AVObject &#x5B9E;&#x4F8B; b &#x7684;&#x5C5E;&#x6027;&#x503C;&#x4FDD;&#x5B58;&#x8D77;&#x6765;&#x3002;&#x8FD9;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x6570;&#x636E;&#x4E4B;&#x95F4;&#x4E00;&#x5BF9;&#x4E00;&#x6216;&#x8005;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#xFF0C;&#x5C31;&#x50CF;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4E3B;&#x5916;&#x952E;&#x5173;&#x7CFB;&#x4E00;&#x6837;&#x3002;</p>
<p version="86d33dd91c76395e411ded2c2ea6966d">&#x6CE8;&#xFF1A;LeanCloud &#x4E91;&#x7AEF;&#x662F;&#x901A;&#x8FC7; Pointer &#x7C7B;&#x578B;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x79CD;&#x6570;&#x636E;&#x5F15;&#x7528;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x5C06;&#x6570;&#x636E; a &#x5728;&#x6570;&#x636E; b &#x7684;&#x8868;&#x4E2D;&#x518D;&#x989D;&#x5916;&#x5B58;&#x50A8;&#x4E00;&#x4EFD;&#xFF0C;&#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p version="ce06caee91fadb5815df2f889155f268">&#x4F8B;&#x5982;&#xFF1A;&#x4E00;&#x6761;&#x5FAE;&#x535A;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x5E94;&#x591A;&#x6761;&#x8BC4;&#x8BBA;&#x3002;&#x521B;&#x5EFA;&#x4E00;&#x6761;&#x5FAE;&#x535A;&#x4FE1;&#x606F;&#x5E76;&#x5BF9;&#x5E94;&#x4E00;&#x6761;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A;</p>
<pre version="711188a38329a8a13f29332041e7bc00"><code class="lang-objc">// &#x521B;&#x5EFA;&#x5FAE;&#x535A;&#x3001;&#x5185;&#x5BB9;
AVObject *myPost = [AVObject objectWithClassName:@&quot;Post&quot;];
[myPost setObject:@&quot;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x4F60;&#x8BA4;&#x4E3A;&#x56DE;&#x5BB6;&#x4EE5;&#x540E;&#x8981;&#x4E0D;&#x8981;&#x7EE7;&#x7EED;&#x5199;&#x4EE3;&#x7801;&#xFF1F;&quot; forKey:@&quot;content&quot;];

// &#x521B;&#x5EFA;&#x8BC4;&#x8BBA;&#x548C;&#x5185;&#x5BB9;
AVObject *myComment = [AVObject objectWithClassName:@&quot;Comment&quot;];
[myComment setObject:@&quot;&#x6211;&#x82E5;&#x662F;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x8FDB;&#x5165;&#x72B6;&#x6001;&#x4E4B;&#x540E;&#x6700;&#x597D;&#x4E0D;&#x8981;&#x505C;&#x3002;&#x4E0B;&#x4E0D;&#x4E0B;&#x73ED;&#x5DF2;&#x7ECF;&#x4E0D;&#x91CD;&#x8981;&#x4E86;&#xFF0C;&#x90A3;&#x79CD;&#x611F;&#x89C9;&#x6700;&#x91CD;&#x8981;&#x3002;&quot; forKey:@&quot;content&quot;];

// &#x4E3A;&#x5FAE;&#x535A;&#x548C;&#x8BC4;&#x8BBA;&#x5EFA;&#x7ACB;&#x4E00;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;
[myComment setObject:myPost forKey:@&quot;post&quot;];

// &#x540C;&#x65F6;&#x4FDD;&#x5B58; myPost&#x3001;myComment
[myComment saveInBackground];
</code></pre>
<p version="05509bf3456a96eefab01e4b4c999800">&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; objectId &#x6765;&#x5173;&#x8054;&#x5DF2;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre version="530f02ad32c2bff538cb06ff6dbe226b"><code class="lang-objc">// &#x628A;&#x8BC4;&#x8BBA;&#x8DDF; objectId &#x4E3A; &quot;5590cdfde4b00f7adb5860c8&quot; &#x7684;&#x5FAE;&#x535A;&#x5173;&#x8054;&#x8D77;&#x6765;
[myComment setObject:[AVObject objectWithoutDataWithClassName:@&quot;Post&quot; objectId:@&quot;5590cdfde4b00f7adb5860c8&quot;]
              forKey:@&quot;post&quot;];
</code></pre>
<p version="c4a8501388c731d81d39e208b239a177">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4E0E;&#x5176;&#x76F8;&#x5173;&#x8054;&#x7684; <code>AVObject</code> &#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x88AB;&#x4E00;&#x540C;&#x8FD4;&#x56DE;&#x3002;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x9664;&#x4E86; <code>objectId</code> &#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x5C5E;&#x6027;&#x503C;&#x90FD;&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x8981;&#x5F97;&#x5230;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x5168;&#x90E8;&#x5C5E;&#x6027;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x518D;&#x6B21;&#x8C03;&#x7528; <code>fetch</code> &#x7CFB;&#x65B9;&#x6CD5;:</p>
<pre version="47c1774d9bd4b3addf3f73f41de4a6f5"><code class="lang-objc">// &#x53D6;&#x56DE;&#x5173;&#x8054;&#x7684;&#x5FAE;&#x535A;&#x5B9E;&#x4F8B;
AVObject *post = [fetchedComment objectForKey:@&quot;post&quot;];
// &#x83B7;&#x53D6; post &#x7684;&#x76F8;&#x5173;&#x5C5E;&#x6027;
[post fetchIfNeededInBackgroundWithBlock:^(AVObject *object, NSError *error) {
  // &#x53D6;&#x56DE;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#x5185;&#x5BB9;
  NSString *content = [post objectForKey:@&quot;content&quot;];
}];
</code></pre>
<p version="43329debdff675d371590b0f2900e954">&#x8FD8;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>AVRelation</code> &#x6765;&#x5EFA;&#x6A21;&#x300C;&#x591A;&#x5BF9;&#x591A;&#x300D;&#x5173;&#x7CFB;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x7C7B;&#x4F3C;&#x4E8E; <code>AVObject</code> &#x4E2D;&#x7684; <code>NSArray</code>&#x3002;&#x4E8C;&#x8005;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;<code>AVRelation</code> &#x4E0D;&#x7528;&#x540C;&#x6B65;&#x8FD4;&#x56DE;&#x5173;&#x8054;&#x7684;&#x6240;&#x6709; <code>AVObject</code> &#x5B9E;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x4F7F;&#x7528; <code>AVRelation</code> &#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6BD4; <code>NSArray</code> &#x66F4;&#x591A;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x8BFB;&#x53D6;&#x65B9;&#x5F0F;&#x4E5F;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x3002;</p>
<p version="5224eb9def66aab6e6483719f3174890">&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x559C;&#x6B22;&#x591A;&#x7BC7;&#x5FAE;&#x535A;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528; <code>relationforKey:</code> &#x6765;&#x4FDD;&#x5B58;&#x8FD9;&#x4E9B;&#x5FAE;&#x535A;&#x3002;&#x5C06;&#x4E00;&#x7BC7;&#x5FAE;&#x535A;&#x6309;&#x987A;&#x5E8F;&#x6DFB;&#x52A0;&#x5230;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre version="02a90af585b01f5b0b02ef8dd7e19c4d"><code class="lang-objc">AVUser *user = [AVUser currentUser];
AVRelation *relation = [user relationforKey:@&quot;likes&quot;];
[relation addObject:post];
[user saveInBackground];
</code></pre>
<p version="85e91cd1e28b35be67fb87ceb7330636">&#x4ECE; <code>AVRelation</code> &#x4E2D;&#x79FB;&#x9664;&#x4E00;&#x7BC7;&#x559C;&#x6B22;&#x7684;&#x5FAE;&#x535A;&#xFF1A;</p>
<pre version="53fc707974939209574519c213d77db8"><code class="lang-objc">[relation removeObject:post];
</code></pre>
<p version="f8c755a89b98e699843667a707012545">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5173;&#x7CFB;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x4E0D;&#x4F1A;&#x88AB;&#x540C;&#x6B65;&#x8FD4;&#x56DE;&#xFF0C;&#x9700;&#x8981;&#x4ECE; <code>query</code> &#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684; <code>AVQuery</code> &#x4E2D;&#x8C03;&#x7528; <code>findObjectsInBackgroundWithBlock:</code> &#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x5F97;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#xFF08;&#x8FD9;&#x91CC;&#x662F;&#x5FAE;&#x535A;&#xFF0C;Post&#xFF09;&#xFF0C;&#x5982;&#xFF1A;</p>
<pre version="2f1d8b4f943ab3bcbc06196e34d63199"><code class="lang-objc">[[relation query] findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
  if (error) {
     // &#x5443;&#xFF0C;&#x62A5;&#x9519;&#x4E86;
  } else {
    // objects &#x5305;&#x542B;&#x4E86;&#x5F53;&#x524D;&#x7528;&#x6237;&#x559C;&#x6B22;&#x7684;&#x6240;&#x6709;&#x5FAE;&#x535A;
  }
}];
</code></pre>
<p version="bddace1ed30e5e1b2d11ebf1eff58d5f">&#x5982;&#x679C;&#x53EA;&#x60F3;&#x8981;&#x6587;&#x7AE0;&#x5BF9;&#x8C61;&#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x5219;&#x8981;&#x5BF9; <code>AVQuery</code> &#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x5982;&#xFF1A;</p>
<pre version="a952bd7a7dd86362158de5afafe0029b"><code class="lang-objc">AVQuery *query = [relation query];
// &#x589E;&#x52A0;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x9650;&#x5236;&#x6761;&#x4EF6;
query.skip = 10;
query.limit = 10;
</code></pre>
<p version="ab5b8ebe2f178391e17745661dcce4a5">&#x5982;&#x679C;&#x60F3;&#x53CD;&#x5411;&#x67E5;&#x8BE2;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x4E00;&#x7BC7;&#x5FAE;&#x535A;&#x88AB;&#x54EA;&#x4E9B;&#x7528;&#x6237;&#x559C;&#x6B22;&#x8FC7;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>reverseQuery:</code> &#x6765;&#x8FDB;&#x884C;&#x53CD;&#x5411;&#x67E5;&#x8BE2;&#xFF08;&#x540C;&#x6837;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528; NSArray &#x4F5C;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x7684;&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre version="9be6a2f95ee2982e9ed4e9cde635a8de"><code class="lang-objc">AVUser *user = [AVUser currentUser];
AVRelation *relation = [user relationforKey:@&quot;likes&quot;];
AVObject *post = [AVObject objectWithClassName:@&quot;Post&quot;];
[post setObject:@&quot;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x4F60;&#x8BA4;&#x4E3A;&#x56DE;&#x5BB6;&#x4EE5;&#x540E;&#x8981;&#x4E0D;&#x8981;&#x7EE7;&#x7EED;&#x5199;&#x4EE3;&#x7801;&#xFF1F;&quot; forKey:@&quot;content&quot;];
[post save];
[relation addObject:post];
[user save];


AVQuery *query = [AVRelation reverseQuery:user.className relationKey:@&quot;likes&quot; childObject:post];
[query findObjectsInBackgroundWithBlock:^(NSArray *users, NSError *error) {
   // users &#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x559C;&#x6B22; myPost &#x7684;&#x6240;&#x6709; User &#x5217;&#x8868;
}];
</code></pre>
<p version="03c6d3abcb31d40e1d3d3f0df1848997">&#x8981;&#x4E86;&#x89E3; <code>AVQuery</code> &#x66F4;&#x591A;&#x7684;&#x7528;&#x6CD5;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;&#x672C;&#x6587; <a href="#&#x67E5;&#x8BE2;">&#x67E5;&#x8BE2;</a> &#x90E8;&#x5206;&#x3002;<code>AVRelation</code> &#x7684;&#x884C;&#x4E3A;&#x63A5;&#x8FD1;&#x4E8E; <code>AVObject</code> &#x4E2D;&#x7684; <code>NSArray</code>&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x4E0A;&#x7684;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x4E5F;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E; <code>AVRelation</code>&#x3002;</p>
<p version="b4312f180bfe135da1b27c70bc22519a"><strong>&#x8BF7;&#x9605;&#x8BFB;&#x300A;<a href="./relation_guide.html">&#x5173;&#x7CFB;&#x5EFA;&#x6A21;&#x6307;&#x5357;</a>&#x300B;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#x5173;&#x7CFB;&#x7C7B;&#x578B;&#x3002;</strong></p>
<h3 id="-">&#x6279;&#x91CF;&#x64CD;&#x4F5C;</h3>
<p version="01d2b7be7874f720e032b3f7a8b68ec1">&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x4EA4;&#x4E92;&#x7684;&#x6B21;&#x6570;&#x592A;&#x591A;&#x5E26;&#x6765;&#x7684;&#x65F6;&#x95F4;&#x6D6A;&#x8D39;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x4E2D;&#x5BF9;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x521B;&#x5EFA;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x3001;&#x83B7;&#x53D6;&#x3002;&#x63A5;&#x53E3;&#x90FD;&#x5728; AVObject &#x8FD9;&#x4E2A;&#x7C7B;&#x4E0B;&#x9762;&#xFF1A;</p>
<pre version="d72583019e90db0d440522c74b1d2a2d"><code class="lang-objc">// &#x6279;&#x91CF;&#x521B;&#x5EFA;&#x3001;&#x66F4;&#x65B0;
+ (BOOL)saveAll:(NSArray *)objects error:(NSError **)error;
+ (void)saveAllInBackground:(NSArray *)objects
                          block:(AVBooleanResultBlock)block; 

// &#x6279;&#x91CF;&#x5220;&#x9664;
+ (BOOL)deleteAll:(NSArray *)objects error:(NSError **)error;
+ (void)deleteAllInBackground:(NSArray *)objects
                        block:(AVBooleanResultBlock)block;

// &#x6279;&#x91CF;&#x83B7;&#x53D6;
+ (BOOL)fetchAll:(NSArray *)objects error:(NSError **)error;
+ (void)fetchAllInBackground:(NSArray *)objects
                       block:(AVArrayResultBlock)block;
</code></pre>
<p version="37353bf573109fc12c9c69b08e209b35">&#x6BD4;&#x5982; <code>Post</code> &#x7528; <code>isRead</code> &#x5B57;&#x6BB5;&#x6765;&#x8868;&#x793A;&#x662F;&#x5426;&#x5DF2;&#x8BFB;&#x3002;&#x83B7;&#x53D6;&#x4E00;&#x7EC4;&#x5FAE;&#x535A;&#x5BF9;&#x8C61;&#x4E4B;&#x540E;&#xFF0C;&#x628A;&#x8FD9;&#x7EC4;&#x5BF9;&#x8C61;&#x6807;&#x8BB0;&#x4E3A;&#x5DF2;&#x8BFB;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre version="0f6c2c738ca8d2dca86c28cad7336426"><code>// &#x83B7;&#x53D6;&#x4E86;&#x4E00;&#x7EC4; posts
NSArray *posts;

for (AVObject *post in posts) {
    post[@&quot;isRead&quot;] = @(YES);
}
[AVObject saveAllInBackground:posts block:^(BOOL succeeded, NSError *error) {
    if (error) {
        // &#x7F51;&#x7EDC;&#x9519;&#x8BEF;
    } else {
        // &#x4FDD;&#x5B58;&#x6210;&#x529F;
    }
}];
</code></pre><h3 id="-">&#x6570;&#x636E;&#x7C7B;&#x578B;</h3>
<p version="3fa88c75d5316bd3f34e5bedc62c3f8a">&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6709; <code>NSString</code>&#x3001; <code>NSNumber</code>&#x3001; <code>AVObject</code>&#xFF0C;LeanCloud &#x8FD8;&#x652F;&#x6301; <code>NSDate</code> &#x548C; <code>NSData</code>&#x3002;</p>
<p version="a41efd397af666d8c4bae09c8e4aa6db">&#x6B64;&#x5916;&#xFF0C;<code>NSDictionary</code> &#x548C; <code>NSArray</code> &#x652F;&#x6301;&#x5D4C;&#x5957;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x4E00;&#x4E2A; <code>AVObject</code> &#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x6765;&#x50A8;&#x5B58;&#x66F4;&#x591A;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre version="7fc569d097d23dce2112918a35a052d0"><code class="lang-objc">NSNumber *boolean = @(YES);
NSNumber *number = [NSNumber numberWithInt:2014];
NSString *string = [NSString stringWithFormat:@&quot;famous film name is %i&quot;, number];
NSDate *date = [NSDate date];
NSData *data = [@&quot;fooBar&quot; dataUsingEncoding:NSUTF8StringEncoding];
NSArray *array = [NSArray arrayWithObjects:string, number, nil];
NSDictionary *dictionary = [NSDictionary dictionaryWithObjectsAndKeys:number, @&quot;number&quot;,
                                                                      string, @&quot;string&quot;,
                                                                      nil];

AVObject *testObject = [AVObject objectWithClassName:@&quot;DataTypeTest&quot;];
[testObject setObject:boolean    forKey:@&quot;testBoolean&quot;];
[testObject setObject:number     forKey:@&quot;testInteger&quot;];
[testObject setObject:string     forKey:@&quot;testString&quot;];
[testObject setObject:date       forKey:@&quot;testDate&quot;];
[testObject setObject:data       forKey:@&quot;testData&quot;];
[testObject setObject:array      forKey:@&quot;testArray&quot;];
[testObject setObject:dictionary forKey:@&quot;testDictionary&quot;];
[testObject saveInBackground];
</code></pre>
<p version="8a9297a5b23441f97fa1ee0bcbb01dc4">&#x6211;&#x4EEC;<strong>&#x4E0D;&#x63A8;&#x8350;</strong>&#x5728; <code>AVObject</code> &#x4E2D;&#x4F7F;&#x7528; <code>NSData</code> &#x7C7B;&#x578B;&#x6765;&#x50A8;&#x5B58;&#x5927;&#x5757;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;&#x56FE;&#x7247;&#x6216;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x3002;<strong>&#x6BCF;&#x4E2A; <code>AVObject</code> &#x7684;&#x5927;&#x5C0F;&#x90FD;&#x4E0D;&#x5E94;&#x8D85;&#x8FC7; 128 KB</strong>&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x50A8;&#x5B58;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; <code>AVFile</code>&#x3002;&#x66F4;&#x591A;&#x7EC6;&#x8282;&#x53EF;&#x4EE5;&#x9605;&#x8BFB;&#x672C;&#x6587; <a href="#&#x6587;&#x4EF6;">&#x6587;&#x4EF6;</a> &#x90E8;&#x5206;&#x3002;</p>
<p version="13d843e86b809432aecf484791345d9a">&#x82E5;&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x6709;&#x5173; LeanCloud &#x5982;&#x4F55;&#x89E3;&#x6790;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;&#x4E13;&#x9898;&#x6587;&#x6863;&#x300A;<a href="./data_security.html">&#x6570;&#x636E;&#x4E0E;&#x5B89;&#x5168;</a>&#x300B;&#x3002;</p>
<h2 id="-">&#x67E5;&#x8BE2;</h2>
<p version="e40833243262488c49cfda540f380828">&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x770B;&#x5230;&#xFF0C;<code>AVQuery</code> &#x7684; <code>getObjectWithId:</code> &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4ECE; LeanCloud &#x4E2D;&#x68C0;&#x7D22;&#x51FA;&#x5355;&#x4E2A; <code>AVObject</code> &#x5B9E;&#x4F8B;&#x3002;&#x6B64;&#x5916;&#xFF0C;<code>AVQuery</code> &#x8FD8;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x7684;&#x68C0;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x8BF8;&#x5982;&#x4E00;&#x6B21;&#x68C0;&#x7D22;&#x8BB8;&#x591A;&#x5BF9;&#x8C61;&#x3001;&#x8BBE;&#x5B9A;&#x68C0;&#x7D22;&#x5BF9;&#x8C61;&#x7684;&#x6761;&#x4EF6;&#x3001;&#x81EA;&#x52A8;&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x514D;&#x53BB;&#x4E86;&#x5F00;&#x53D1;&#x8005;&#x9700;&#x81EA;&#x884C;&#x64B0;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x9EBB;&#x70E6;&#x3002;</p>
<h3 id="-">&#x57FA;&#x672C;&#x67E5;&#x8BE2;</h3>
<p version="d61d1c3af5a161f89fe9a270ec0c54ac">&#x5728;&#x8BB8;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>getObjectInBackgroundWithId:block:</code> &#x53EA;&#x80FD;&#x67E5;&#x627E;&#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x9700;&#x6C42;&#x3002;&#x9664;&#x4E86;&#x68C0;&#x7D22;&#x5355;&#x4E00;&#x5BF9;&#x8C61;&#xFF0C;<code>AVQuery</code> &#x8FD8;&#x5141;&#x8BB8;&#x4EE5;&#x4E0D;&#x540C;&#x7684;&#x68C0;&#x7D22;&#x65B9;&#x5F0F;&#x6765;&#x83B7;&#x53D6;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x5217;&#x8868;&#x3002;</p>
<p version="551f3f7bc5ca2c53c4f68732b69add57">&#x4E00;&#x822C;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>AVQuery</code> &#x5E76;&#x8BBE;&#x5B9A;&#x76F8;&#x5E94;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x7528; <code>findObjectsInBackgroundWithBlock:</code> &#x68C0;&#x7D22;&#x5F97;&#x5230;&#x4E00;&#x4E2A; <code>AVObject</code> &#x7EC4;&#x6210;&#x7684; <code>NSArray</code>&#x3002;</p>
<p version="c9c3b6d9dbc0ed07865dff007687e4b0">&#x4F8B;&#x5982;&#xFF0C;&#x8981;&#x67E5;&#x627E;&#x6307;&#x5B9A; <code>pubUser</code> &#x53D1;&#x5E03;&#x7684;&#x6240;&#x6709;&#x5FAE;&#x535A;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>whereKey:equalTo:</code> &#x65B9;&#x6CD5;&#x6765;&#x9650;&#x5B9A;&#x4E00;&#x4E2A;&#x952E;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;</p>
<pre version="39c37babe468f88a3a71e25d87412eb0"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;pubUser&quot; equalTo:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;];
[query findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
  if (!error) {
    // &#x68C0;&#x7D22;&#x6210;&#x529F;
    NSLog(@&quot;Successfully retrieved %d posts.&quot;, objects.count);
  } else {
    // &#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
    NSLog(@&quot;Error: %@ %@&quot;, error, [error userInfo]);
  }
}];
</code></pre>
<p version="d309157acf345772a8922a9c6b52a587"><code>findObjectsInBackgroundWithBlock:</code> &#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5728;&#x5B8C;&#x6210;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E0D;&#x963B;&#x585E;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x7684; Block &#x548C;&#x56DE;&#x8C03;&#x3002;</p>
<p version="929ea943b9e2c48793f61479410fa2f5">&#x5982;&#x679C;&#x5DF2;&#x8FD0;&#x884C;&#x5728;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF0C;&#x7528; <code>findObjects</code> &#x65B9;&#x6CD5;&#x53EF;&#x963B;&#x585E;&#x8C03;&#x7528;&#x8FDB;&#x7A0B;&#xFF1A;</p>
<pre version="31812099290ecab90efd6f4c8f099a2c"><code class="lang-objc">// &#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x4EC5;&#x53EF;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x76EE;&#x7684;&#xFF0C;&#x6216;&#x5728;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x4E4B;&#x4E2D;&#x8FD0;&#x884C;
AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;pubUser&quot; equalTo:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;];
NSArray *postArray = [query findObjects];
</code></pre>
<h3 id="-">&#x67E5;&#x8BE2;&#x7EA6;&#x675F;</h3>
<p version="f38d2e52b3263563cf893817a1b32dd3">&#x7ED9; <code>AVQuery</code> &#x7684;&#x68C0;&#x7D22;&#x6DFB;&#x52A0;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x6709;&#x591A;&#x79CD;&#x65B9;&#x6CD5;&#x3002;</p>
<p version="f7feed557e11a64736d79cbd7a33d9ee">&#x7528; <code>whereKey:notEqualTo:</code> &#x642D;&#x914D;&#x5BF9;&#x5E94;&#x7684;&#x952E;&#x548C;&#x503C;&#x6765;&#x8FC7;&#x6EE4;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre version="75b7f8959487aae8f65ab625a587297d"><code class="lang-objc">[query whereKey:@&quot;pubUser&quot; notEqualTo:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;];
</code></pre>
<p version="014eb8f685dfeab6522b4804cc717f68">&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#xFF0C;&#x53EA;&#x6709;&#x6EE1;&#x8DB3;&#x6240;&#x6709;&#x6761;&#x4EF6;&#x7684;&#x5BF9;&#x8C61;&#x624D;&#x88AB;&#x8FD4;&#x56DE;&#xFF0C;&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x4F7F;&#x7528; AND &#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002;</p>
<pre version="023edf53586f08e4989bb258a671d787"><code class="lang-objc">[query whereKey:@&quot;pubUser&quot; notEqualTo:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;];
[query whereKey:@&quot;pubUserCertificate&quot; greaterThan:[NSNumber numberWithInt:3]];
</code></pre>
<p version="07d3bbff110f7c6adbc1cd5c0b7c7eb9">&#x7528; <code>limit</code> &#x5C5E;&#x6027;&#x6765;&#x63A7;&#x5236;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C; 100&#xFF0C;&#x5141;&#x8BB8;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4ECE; 1 &#x5230; 1000&#x3002;</p>
<pre version="8d1ec03e90bfc7c0dcc2da47eb875815"><code class="lang-objc">query.limit = 10; // &#x6700;&#x591A;&#x8FD4;&#x56DE; 10 &#x6761;&#x7ED3;&#x679C;
</code></pre>
<p version="e97514d3f8cee2729a9f34ef2a499bce">&#x5982;&#x679C;&#x53EA;&#x9700;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>getFirstObject</code> &#x6216; <code>getFirstObjectInBackground</code>&#x3002;</p>
<pre version="5abcf19c47e8aa4fb5c6ba64ed97bf57"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;pubUser&quot; equalTo:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;];
[query getFirstObjectInBackgroundWithBlock:^(AVObject *object, NSError *error) {
  if (!object) {
    NSLog(@&quot;getFirstObject &#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x3002;&quot;);
  } else {
    // &#x67E5;&#x8BE2;&#x6210;&#x529F;
    NSLog(@&quot;&#x5BF9;&#x8C61;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x3002;&quot;);
  }
}];
</code></pre>
<p version="816aceab413b5c912f762bf037dc1473"><code>skip</code> &#x7528;&#x6765;&#x8DF3;&#x8FC7;&#x521D;&#x59CB;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x5BF9;&#x5206;&#x9875;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF1A;</p>
<pre version="2295ef55c19304bb9d6c25e8aed54757"><code class="lang-objc">query.skip = 10; // &#x8DF3;&#x8FC7;&#x524D; 10 &#x6761;&#x7ED3;&#x679C;
</code></pre>
<p version="0868fb065de6d396fd0e2cd140115e6e">&#x5BF9;&#x4E8E;&#x9002;&#x7528;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5982;&#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x53EF;&#x5BF9;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF1A;</p>
<pre version="0c27db4c285b897d23e7fbc4e355e210"><code class="lang-objc">// &#x6309;&#x53D1;&#x5E16;&#x65F6;&#x95F4;&#x5347;&#x5E8F;&#x6392;&#x5217;
[query orderByAscending:@&quot;createdAt&quot;];

// &#x6309;&#x53D1;&#x5E16;&#x65F6;&#x95F4;&#x964D;&#x5E8F;&#x6392;&#x5217;
[query orderByDescending:@&quot;createdAt&quot;];
</code></pre>
<p version="a782cfaf0b28c4a655d8a9d7226d92bf">&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x6392;&#x5E8F;&#x952E;&#xFF1A;</p>
<pre version="7547d9aae249b7cfb0f0def74796f586"><code class="lang-objc">// &#x82E5;&#x4E0A;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#x952E;&#x76F8;&#x7B49;&#xFF0C;&#x6309;&#x53D1;&#x5E16;&#x8005;&#x8BA4;&#x8BC1;&#x7B49;&#x7EA7;&#x5347;&#x5E8F;&#x6392;&#x5217;
[query addAscendingOrder:@&quot;pubUserCertificate&quot;];

// &#x5982;&#x679C;&#x4E0A;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#x952E;&#x76F8;&#x7B49;&#xFF0C;&#x6309;&#x53D1;&#x5E16;&#x8005;&#x8BA4;&#x8BC1;&#x7B49;&#x7EA7;&#x964D;&#x5E8F;&#x6392;&#x5217;
[query addDescendingOrder:@&quot;pubUserCertificate&quot;];
</code></pre>
<p version="de41558e732c04f6b407725e00f160ab">&#x5BF9;&#x4E8E;&#x9002;&#x7528;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x68C0;&#x7D22;&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x300C;&#x6BD4;&#x8F83;&#x300D;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre version="93ea848f6b3d40031c4e57a44ec7180f"><code class="lang-objc">// &#x70B9;&#x8D5E;&#x6570; &lt; 50
[query whereKey:@&quot;upvotes&quot; lessThan:[NSNumber numberWithInt:50]];

// &#x70B9;&#x8D5E;&#x6570; &lt;= 50
[query whereKey:@&quot;upvotes&quot; lessThanOrEqualTo:[NSNumber numberWithInt:50]];

// &#x70B9;&#x8D5E;&#x6570; &gt; 50
[query whereKey:@&quot;upvotes&quot; greaterThan:[NSNumber numberWithInt:50]];

// &#x70B9;&#x8D5E;&#x6570; &gt;= 50
[query whereKey:@&quot;upvotes&quot; greaterThanOrEqualTo:[NSNumber numberWithInt:50]];
</code></pre>
<p version="fb4342464b3935e7578b24d1d622612b"><code>whereKey:containedIn:</code> &#x53EF;&#x67E5;&#x8BE2;&#x5305;&#x542B;&#x4E0D;&#x540C;&#x503C;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5B83;&#x63A5;&#x53D7;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x5B9E;&#x73B0;&#x7528;&#x5355;&#x4E00;&#x67E5;&#x8BE2;&#x6765;&#x4EE3;&#x66FF;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x3002;</p>
<pre version="da0ff53ac8872b9a52fd1fd42f8d9d3f"><code class="lang-objc">// &#x627E;&#x51FA; &#x201C;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&#x201D;&#xFF0C;&#x201C;LeanCloud&#x6C5F;&#x5B8F;&#x201D;&#xFF0C;&#x201C;&#x6EDA;&#x6EDA;&#x827E;&#x4E70;&#x63D0;&#x201D; &#x4E09;&#x4E2A;&#x8D26;&#x53F7;&#x7684;&#x5FAE;&#x535A;&#x5E16;&#x5B50;
NSArray *names = [NSArray arrayWithObjects:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;,
                                           @&quot;LeanCloud&#x6C5F;&#x5B8F;&quot;,
                                           @&quot;&#x6EDA;&#x6EDA;&#x827E;&#x4E70;&#x63D0;&quot;,
                                           nil];
[query whereKey:@&quot;pubUser&quot; containedIn:names];
</code></pre>
<p version="2314439adc3b649db2bc7be9ecbb7f69">&#x76F8;&#x53CD;&#xFF0C;&#x8981;&#x8BA9;&#x67E5;&#x8BE2;&#x4E0D;&#x5305;&#x542B;&#x67D0;&#x4E9B;&#x503C;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x7528; <code>whereKey:notContainedIn:</code> &#xFF1A;</p>
<pre version="15b01aaddaf07d1db63d195630b9ae8f"><code class="lang-objc">// &#x627E;&#x51FA;&#x9664; &#x201C;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&#x201D;&#xFF0C;&#x201C;LeanCloud&#x6C5F;&#x5B8F;&#x201D;&#xFF0C;&#x201C;&#x6EDA;&#x6EDA;&#x827E;&#x4E70;&#x63D0;&#x201D; &#x4E09;&#x4E2A;&#x8D26;&#x53F7;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x4EBA;&#x7684;&#x5FAE;&#x535A;&#x5E16;&#x5B50;
NSArray *names = [NSArray arrayWithObjects:@&quot;LeanCloud&#x5B98;&#x65B9;&#x5BA2;&#x670D;&quot;,
                                           @&quot;LeanCloud&#x6C5F;&#x5B8F;&quot;,
                                           @&quot;&#x6EDA;&#x6EDA;&#x827E;&#x4E70;&#x63D0;&quot;,
                                           nil];
[query whereKey:@&quot;pubUser&quot; notContainedIn:names];
</code></pre>
<p version="4472b1f1f301aab2577e86ddaeb784d2"><code>whereKeyExists</code> &#x7528;&#x6765;&#x67E5;&#x8BE2;&#x5177;&#x5907;&#x67D0;&#x4E00;&#x952E;&#x96C6;&#x6761;&#x4EF6;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;<code>whereKeyDoesNotExist</code> &#x6B63;&#x597D;&#x76F8;&#x53CD;&#x3002;</p>
<pre version="fa58647c5411d3ebb742c5d14fd6b8ba"><code class="lang-objc">// &#x627E;&#x5230;&#x6709;&#x56FE;&#x7247;&#x7684;&#x5FAE;&#x535A;
[query whereKeyExists:@&quot;images&quot;];

// &#x6CA1;&#x6709;&#x56FE;&#x7247;&#x7684;&#x5FAE;&#x535A;
[query whereKeyDoesNotExist:@&quot;images&quot;];
</code></pre>
<p version="4ea8a500e65a90f76e32b936b03be91d">&#x5982;&#x679C;&#x8981;&#x7528;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x67D0;&#x4E00;&#x952E;&#x503C;&#xFF0C;&#x53BB;&#x5339;&#x914D;&#x53E6;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5BF9;&#x8C61;&#x4E2D;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#xFF0C;&#x6765;&#x5F97;&#x5230;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>whereKey:matchesKey:inQuery:</code> &#x3002;</p>
<p version="40212026fccb66450d9530641b3704d1">&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x5FAE;&#x535A;&#x8FD9;&#x7C7B;&#x5E94;&#x7528;&#x4E2D;&#x6709;&#x4E09;&#x7C7B;&#x6570;&#x636E;&#xFF1A;&#x4E00;&#x4E2A;&#x7C7B;&#x662F;&#x5FAE;&#x535A;&#x5E16;&#x5B50;&#x4FE1;&#x606F;&#xFF08;Post&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7C7B;&#x662F;&#x7528;&#x6237;&#x8D26;&#x6237;&#x4FE1;&#x606F;&#xFF08;AVUser&#xFF09;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x662F;&#x7528;&#x6237;&#x4E4B;&#x95F4;&#x4E92;&#x76F8;&#x5173;&#x6CE8;&#x7684;&#x4FE1;&#x606F;&#xFF08;UserFollow&#xFF09;&#xFF0C;&#x8981;&#x627E;&#x51FA;&#x5F53;&#x524D;&#x7528;&#x6237;&#x5173;&#x6CE8;&#x7684;&#x4EBA;&#x53D1;&#x5E03;&#x7684;&#x5FAE;&#x535A;&#xFF0C;&#x5219;&#xFF1A;</p>
<pre version="5f3fa498f33529edad8fe15b05753d25"><code class="lang-objc">// &#x5148;&#x627E;&#x5230;&#x5F53;&#x524D;&#x767B;&#x5F55;&#x7528;&#x6237;&#x5173;&#x6CE8;&#x7684;&#x7528;&#x6237;&#x5217;&#x8868;
AVQuery *followeeQuery = [AVQuery queryWithClassName:@&quot;UserFollow&quot;];
[followeeQuery whereKey:@&quot;follower&quot; equalTo:[AVUser currentUser]];

// &#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x88AB;&#x5173;&#x6CE8;&#x8005;&#x53D1;&#x5E03;&#x7684;&#x5FAE;&#x535A;
AVQuery *postQuery = [AVQuery queryWithClassName:@&quot;Post&quot;];
[postQuery whereKey:@&quot;author&quot; matchesKey:@&quot;followee&quot; inQuery:followeeQuery];
[postQuery findObjectsInBackgroundWithBlock:^(NSArray *results, NSError *error) {
    // &#x5F97;&#x5230;&#x5F53;&#x524D;&#x7528;&#x6237;&#x5173;&#x6CE8;&#x7684;&#x4EBA;&#x53D1;&#x5E03;&#x7684;&#x5FAE;&#x535A;
}];
</code></pre>
<p version="bd02e5a97987d01cee9f1c04798765e5">&#x76F8;&#x53CD;&#xFF0C;&#x8981;&#x4ECE;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x7EC4;&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#xFF0C;&#x4E0E;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x952E;&#x503C;&#x5E76;&#x4E0D;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>whereKey:doesNotMatchKey:inQuery:</code> &#x3002;</p>
<p version="299190a043807f634b50ebc4695f9a4a">&#x4F8B;&#x5982;&#xFF0C;&#x627E;&#x51FA;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x5173;&#x6CE8;&#x7684;&#x4EBA;&#x53D1;&#x5E03;&#x7684;&#x5FAE;&#x535A;&#xFF1A;</p>
<pre version="9add6870b0aaa621befaaaae1c09b9bb"><code class="lang-objc">AVQuery *postQuery = [AVQuery queryWithClassName:@&quot;Post&quot;];
[postQuery whereKey:@&quot;author&quot; doesnotMatchesKey:@&quot;followee&quot; inQuery:followeeQuery];
[postQuery findObjectsInBackgroundWithBlock:^(NSArray *results, NSError *error) {
    // &#x5F97;&#x5230;&#x5F53;&#x524D;&#x7528;&#x6237;&#x672A;&#x5173;&#x6CE8;&#x7684;&#x4EBA;&#x53D1;&#x5E03;&#x7684;&#x5FAE;&#x535A;
}];
</code></pre>
<p version="cee062094d5dbed53290033d6a0bdb43">&#x5C06; <code>selectKeys:</code> &#x642D;&#x914D; <code>NSArray</code> &#x7C7B;&#x578B;&#x7684;&#x952E;&#x503C;&#x6765;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x9650;&#x5B9A;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x6BB5;&#x3002;</p>
<p version="683768abce6181f50ee7dcd18a4fe6f2">&#x4F8B;&#x5982;&#xFF0C;&#x8BA9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x53EA;&#x5305;&#x542B; <code>pubUser</code> &#x548C; <code>content</code> &#x5B57;&#x6BB5;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x7F6E;&#x5B57;&#x6BB5;&#xFF0C;&#x5982; <code>objectId</code>&#x3001; <code>createdAt</code> &#x6216; <code>updatedAt</code>&#xFF09;&#xFF1A;</p>
<pre version="47b1ecd459447acf3643da7313899f62"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query selectKeys:@[@&quot;pubUser&quot;, @&quot;content&quot;]];
NSArray *results = [query findObjects];
</code></pre>
<p version="cb769cde8f27d27fdc2d81108d12a1f7">&#x5176;&#x4F59;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x7A0D;&#x540E;&#x5BF9;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x8C03;&#x7528; <code>fetchIfNeeded</code> &#x7684;&#x53D8;&#x4F53;&#x6765;&#x83B7;&#x53D6;&#xFF1A;</p>
<pre version="248183b52e13dd1817b40796e3b984ce"><code class="lang-objc">AVObject *object = (AVObject *)[results objectAtIndex:0];
[object fetchIfNeededInBackgroundWithBlock:^(AVObject *object, NSError *error) {
  // &#x8FD4;&#x56DE;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;
}];
</code></pre>
<h3 id="-">&#x67E5;&#x8BE2;&#x6570;&#x7EC4;&#x503C;</h3>
<p version="37ad114a60b821ba91b89a8915252491">&#x5F53;&#x952E;&#x503C;&#x4E3A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;<code>equalTo:</code> &#x53EF;&#x4EE5;&#x4ECE;&#x6570;&#x7EC4;&#x4E2D;&#x627E;&#x51FA;&#x5305;&#x542B;&#x5355;&#x4E2A;&#x503C;&#x7684;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre version="061b8e2cf2d4eaab0e12affe7693de80"><code class="lang-objc">// &#x627E;&#x51FA; arrayKey &#x4E2D;&#x5305;&#x542B; 2 &#x7684;&#x5BF9;&#x8C61;
[query whereKey:@&quot;arrayKey&quot; equalTo:[NSNumber numberWithInt:2]];
</code></pre>
<p version="fdec5b32187dadcd62bee6a7bb790748"><code>containsAllObjectsInArray:</code> &#x53EF;&#x4EE5;&#x627E;&#x5230;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x503C;&#x7684;&#x5BF9;&#x8C61;:</p>
<pre version="6048003cb56f4f805b347f6f5b298cdb"><code class="lang-objc">// &#x627E;&#x51FA; arrayKey &#x4E2D;&#x5305;&#x542B; 2&#x3001;3&#x3001;4 &#x7684;&#x5BF9;&#x8C61;
[query whereKey:@&quot;arrayKey&quot; containsAllObjectsInArray:@[@2, @3, @4]];
</code></pre>
<h3 id="-">&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x503C;</h3>
<p version="fa552bcf80c22d625ffec1ae4ac3eb37">&#x4F7F;&#x7528; <code>whereKey:hasPrefix:</code> &#x53EF;&#x4EE5;&#x8FC7;&#x6EE4;&#x51FA;&#x4EE5;&#x7279;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x5934;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x6709;&#x70B9;&#x50CF; MySQL &#x7684; <code>LIKE</code> &#x6761;&#x4EF6;&#x3002;&#x56E0;&#x4E3A;&#x652F;&#x6301;&#x7D22;&#x5F15;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x64CD;&#x4F5C;&#x5BF9;&#x4E8E;&#x5927;&#x6570;&#x636E;&#x96C6;&#x4E5F;&#x5F88;&#x9AD8;&#x6548;&#x3002;</p>
<pre version="776abfa6c4b68cd4020494bf2c364154"><code class="lang-objc">// &#x627E;&#x51FA;&#x540D;&#x5B57;&#x4EE5; &quot;LeanCloud&quot; &#x5F00;&#x5934;&#x7684;&#x8D26;&#x6237;&#x7684;&#x5FAE;&#x535A;&#x5E16;&#x5B50;
AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;pubUser&quot; hasPrefix:@&quot;LeanCloud&quot;];
</code></pre>
<h3 id="-">&#x5173;&#x7CFB;&#x67E5;&#x8BE2;</h3>
<p version="742cfb8aa06a356df367f6a3e1b9a1f4">&#x68C0;&#x7D22;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x6709;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x7528;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x53BB;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x5DF2;&#x77E5;&#x7684; <code>AVObject</code> &#x5BF9;&#x8C61;&#xFF0C;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>whereKey:equalTo:</code>&#xFF0C;&#x5C31;&#x50CF;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E00;&#x6837;&#x3002;</p>
<p version="8417f38b17615d44fc0fa43bf98f9fbf">&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x6761;&#x8BC4;&#x8BBA; <code>Comment</code> &#x7684; <code>post</code> &#x5B57;&#x6BB5;&#x90FD;&#x6709;&#x4E00;&#x4E2A; <code>Post</code> &#x5FAE;&#x535A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x627E;&#x51FA;&#x6307;&#x5B9A;&#x5FAE;&#x535A;&#x4E0B;&#x7684;&#x8BC4;&#x8BBA;&#xFF1A;</p>
<pre version="8a7354ce175bd91070e11e2c84a0bc5c"><code class="lang-objc">// &#x5047;&#x8BBE;&#x524D;&#x9762;&#x5DF2;&#x5EFA;&#x597D;&#x4E86; myPost &#x8FD9;&#x4E2A; AVObject &#x5BF9;&#x8C61;
AVQuery *query = [AVQuery queryWithClassName:@&quot;Comment&quot;];
[query whereKey:@&quot;post&quot; equalTo:myPost];

[query findObjectsInBackgroundWithBlock:^(NSArray *comments, NSError *error) {
    // comments &#x5305;&#x542B;&#x4E86; myPost &#x4E0B;&#x7684;&#x6240;&#x6709;&#x8BC4;&#x8BBA;
}];
</code></pre>
<p version="d344ff219413a96bd6af123566a2b3f8">&#x6216;&#x901A;&#x8FC7; <code>objectId</code> &#x505A;&#x5173;&#x7CFB;&#x67E5;&#x8BE2;&#xFF1A;</p>
<pre version="cc57a3c71c10f98b002b39a291fa7515"><code class="lang-objc">[query whereKey:@&quot;post&quot;
        equalTo:[AVObject objectWithoutDataWithClassName:@&quot;Post&quot; objectId:@&quot;5590cdfde4b00f7adb5860c8&quot;];
</code></pre>
<p version="600c237145de4b824706d4e28ea131b1">&#x5982;&#x679C;&#x8981;&#x505A;&#x5D4C;&#x5957;&#x67E5;&#x8BE2;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; <code>whereKey:matchesQuery</code>&#x3002;</p>
<p version="7cadda9be68b6a7247fb0ac278664a26">&#x4F8B;&#x5982;&#xFF0C;&#x627E;&#x51FA;&#x6240;&#x6709;&#x5E26;&#x56FE;&#x7247;&#x7684;&#x5FAE;&#x535A;&#x7684;&#x8BC4;&#x8BBA;&#xFF1A;</p>
<pre version="f2d849f4ccc2d9f1cc7d9176ed45ec72"><code class="lang-objc">AVQuery *innerQuery = [AVQuery queryWithClassName:@&quot;Post&quot;];
[innerQuery whereKeyExists:@&quot;image&quot;];
AVQuery *query = [AVQuery queryWithClassName:@&quot;Comment&quot;];
[query whereKey:@&quot;post&quot; matchesQuery:innerQuery];
[query findObjectsInBackgroundWithBlock:^(NSArray *comments, NSError *error) {
    // &#x6240;&#x6709;&#x5E26;&#x56FE;&#x7247;&#x7684;&#x5FAE;&#x535A;&#x7684;&#x8BC4;&#x8BBA;&#x90FD;&#x5728; comments
}];
</code></pre>
<p version="a88fcc4db26f5fa824ec9f1929c19a83">&#x76F8;&#x53CD;&#xFF0C;<code>whereKey:doesNotMatchQuery:</code> &#x53EF;&#x4EE5;&#x627E;&#x51FA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x4E0E;&#x53E6;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x627E;&#x51FA;&#x6240;&#x6709; &#x4E0D;&#x5E26;&#x56FE;&#x7247;&#x7684;&#x6587;&#x7AE0;&#x7684;&#x8BC4;&#x8BBA;&#xFF1A;</p>
<pre version="533f45e43242d906a721ec0ddebeb47d"><code class="lang-objc">AVQuery *innerQuery = [AVQuery queryWithClassName:@&quot;Post&quot;];
[innerQuery whereKeyExists:@&quot;image&quot;];
AVQuery *query = [AVQuery queryWithClassName:@&quot;Comment&quot;];
[query whereKey:@&quot;post&quot; doesNotMatchQuery:innerQuery];
[query findObjectsInBackgroundWithBlock:^(NSArray *comments, NSError *error) {
    // comments &#x5305;&#x542B;&#x4E86;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x56FE;&#x7247;&#x7684;&#x6587;&#x7AE0;&#x7684;&#x8BC4;&#x8BBA;
}];
</code></pre>
<p version="7db57d6075df8a613311ffa22bec7c08">&#x6CE8;&#x610F;&#xFF1A;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x6570;&#x91CF;&#xFF08;&#x9ED8;&#x8BA4; 100 &#x6700;&#x591A; 1000&#xFF09;&#x7684;&#x9650;&#x5236;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x5185;&#x5D4C;&#x67E5;&#x8BE2;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5904;&#x7406;&#x5927;&#x578B;&#x6570;&#x636E;&#x96C6;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4ED4;&#x7EC6;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x6765;&#x83B7;&#x5F97;&#x60F3;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p version="7f70e5d8df3f79adc6fbac3e2cb95da3">&#x5728;&#x4E00;&#x4E9B;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x4E2D;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x5173;&#x8054;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; <code>includeKey:</code>&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x641C;&#x7D22;&#x6700;&#x8FD1;&#x7684;&#x5341;&#x6761;&#x8BC4;&#x8BBA;&#xFF0C;&#x5E76;&#x540C;&#x65F6;&#x627E;&#x51FA;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;</p>
<pre version="2ae96c2dcc96e80ef293e01312af77dd"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Comment&quot;];

// &#x627E;&#x51FA;&#x6700;&#x8FD1;&#x521A;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;
[query orderByDescending:@&quot;createdAt&quot;];

// &#x53EA;&#x53D6;&#x524D;&#x5341;&#x6761;
query.limit = [NSNumber numberWithInt:10];

// &#x627E;&#x51FA;&#x6BCF;&#x6761;&#x8BC4;&#x8BBA;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x7AE0;
[query includeKey:@&quot;post&quot;];

[query findObjectsInBackgroundWithBlock:^(NSArray *comments, NSError *error) {
    // comments &#x662F;&#x6700;&#x8FD1;&#x7684;&#x5341;&#x6761;&#x8BC4;&#x8BBA;, &#x5176; post &#x5B57;&#x6BB5;&#x4E5F;&#x6709;&#x76F8;&#x5E94;&#x6570;&#x636E;
    for (AVObject *comment in comments) {
         // &#x5E76;&#x4E0D;&#x9700;&#x8981;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;
         AVObject *post = [comment objectForKey:@&quot;post&quot;];
         NSLog(@&quot;retrieved related post: %@&quot;, post);
    }
}];
</code></pre>
<p version="d153b99981ff1ad60d0ffe4d7b19639d"><strong>&#x4F7F;&#x7528;&#x70B9;&#xFF08;<code>.</code>&#xFF09;&#x64CD;&#x4F5C;&#x7B26;&#x53EF;&#x4EE5;&#x68C0;&#x7D22;&#x591A;&#x5C42;&#x7EA7;&#x7684;&#x6570;&#x636E;&#xFF08;AVObject &#x5BF9;&#x8C61;&#xFF09;</strong>&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x7ED3;&#x679C;&#x4E2D;&#x52A0;&#x5165;&#x8BC4;&#x8BBA;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x5FAE;&#x535A;&#xFF0C;&#x4EE5;&#x53CA;&#x8BE5;&#x5FAE;&#x535A;&#x7684;&#x4F5C;&#x8005;&#xFF1A;</p>
<pre version="df279c35118c519508c56fe040cd4a3d"><code class="lang-objc">[query includeKey:@&quot;post.author&quot;];
</code></pre>
<p version="5c3d2ef4d1a2c826182b9a853b43afa8"><code>includeKey:</code> &#x65E2;&#x53EF;&#x5728;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x4E2D;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x6765;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x4E5F;&#x53EF;&#x4E0E; <code>AVQuery</code> &#x7684; <code>getFirstObject</code> &#x548C; <code>getObjectInBackground</code> &#x7B49;&#x8F85;&#x52A9;&#x65B9;&#x6CD5;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;</p>
<p version="c0f96b32e220c34f183d552dda31eec4">&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5F53;&#x67D0;&#x4E9B;&#x5BF9;&#x8C61;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x952E;&#xFF0C;&#x800C;&#x67D0;&#x4E9B;&#x952E;&#x7684;&#x503C;&#x5305;&#x542B;&#x7684;&#x6570;&#x636E;&#x91CF;&#x53C8;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x4F60;&#x5E76;&#x4E0D;&#x5E0C;&#x671B;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EA;&#x60F3;&#x8981;&#x7279;&#x5B9A;&#x952E;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x7528; <code>selectKeys:</code>&#xFF1A;</p>
<pre version="1de5ca4cdaba7e0abd16047415df86e2"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query selectKeys:@[@&quot;pubUser&quot;]];
AVObject *result = [query getFirstObject];
</code></pre>
<p version="cfd1c5494863a29f870ae62407c5a967">&#x53EA;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x952E;&#x5BF9;&#x5E94;&#x7684;&#x6709;&#x9650;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x975E;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x6709;&#x52A9;&#x4E8E;&#x8282;&#x7701;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;&#x548C;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x3002;</p>
<h3 id="-">&#x7F13;&#x5B58;&#x67E5;&#x8BE2;</h3>
<p version="423758ed3c7c5c0d8135e4f98526d77a">&#x901A;&#x5E38;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x7ED3;&#x679C;&#x7F13;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x662F;&#x4E00;&#x79CD;&#x884C;&#x4E4B;&#x6709;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7B97;&#x8BBE;&#x5907;&#x79BB;&#x7EBF;&#xFF0C;&#x5E94;&#x7528;&#x521A;&#x521A;&#x6253;&#x5F00;&#xFF0C;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x5C1A;&#x672A;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x4E5F;&#x80FD;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;&#x5F53;&#x7F13;&#x5B58;&#x5360;&#x7528;&#x592A;&#x591A;&#x7A7A;&#x95F4;&#x65F6;&#xFF0C;LeanCloud &#x4F1A;&#x81EA;&#x52A8;&#x5BF9;&#x5176;&#x6E05;&#x7406;&#x3002;</p>
<p version="65400059c40c7208646a67b6b51bf0dd">&#x9ED8;&#x8BA4;&#x7684;&#x67E5;&#x8BE2;&#x884C;&#x4E3A;&#x4E0D;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7; <code>query.cachePolicy</code> &#x6765;&#x542F;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x7F51;&#x7EDC;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x5C1D;&#x8BD5;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x5E76;&#x540C;&#x65F6;&#x53D6;&#x56DE;&#x5DF2;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;:</p>
<pre version="ecba4b7e742818faed92c06c2e685eda"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
query.cachePolicy = kAVCachePolicyNetworkElseCache;

//&#x8BBE;&#x7F6E;&#x7F13;&#x5B58;&#x6709;&#x6548;&#x671F;
query.maxCacheAge = 24*3600;

[query findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
  if (!error) {
    // &#x6210;&#x529F;&#x627E;&#x5230;&#x7ED3;&#x679C;&#xFF0C;&#x5148;&#x627E;&#x7F51;&#x7EDC;&#x518D;&#x8BBF;&#x95EE;&#x78C1;&#x76D8;
  } else {
    // &#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x7F51;&#x7EDC;&#xFF0C;&#x672C;&#x6B21;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x672A;&#x505A;&#x7F13;&#x5B58;
  }
}];
</code></pre>
<p version="2b8e01ca905a66444b9fce3db7fd9f8e">LeanCloud &#x63D0;&#x4F9B;&#x4E86;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x7F13;&#x5B58;&#x7B56;&#x7565;&#xFF1A;</p>
<ul>
<li><p version="11b2e1720ecc20768f02738a7f29f100"><code>kAVCachePolicyIgnoreCache</code></p>
<p version="4d069e8609189e13b0a1648498aad90b"><strong>&#xFF08;&#x9ED8;&#x8BA4;&#x7F13;&#x5B58;&#x7B56;&#x7565;&#xFF09;</strong>&#x67E5;&#x8BE2;&#x884C;&#x4E3A;&#x4E0D;&#x4ECE;&#x7F13;&#x5B58;&#x52A0;&#x8F7D;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5C06;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5230;&#x7F13;&#x5B58;&#x4E2D;&#x3002;</p>
</li>
<li><p version="49134162bab292ef4603e60a1ab454aa"><code>kAVCachePolicyCacheOnly</code></p>
<p version="616c0d51786b867c1b5dc34de3291a29">&#x67E5;&#x8BE2;&#x884C;&#x4E3A;&#x5FFD;&#x7565;&#x7F51;&#x7EDC;&#x72B6;&#x51B5;&#xFF0C;&#x53EA;&#x4ECE;&#x7F13;&#x5B58;&#x52A0;&#x8F7D;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7F13;&#x5B58;&#x7ED3;&#x679C;&#xFF0C;&#x8BE5;&#x7B56;&#x7565;&#x4F1A;&#x4EA7;&#x751F; <code>AVError</code>&#x3002;</p>
</li>
<li><p version="07cdb9bbe090db584f5a9d8db070a679"><code>kAVCachePolicyCacheElseNetwork</code></p>
<p version="5329bf0af6a03d785b8b7cf803ca996d">&#x67E5;&#x8BE2;&#x884C;&#x4E3A;&#x9996;&#x5148;&#x5C1D;&#x8BD5;&#x4ECE;&#x7F13;&#x5B58;&#x52A0;&#x8F7D;&#xFF0C;&#x82E5;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x52A0;&#x8F7D;&#x7ED3;&#x679C;&#x3002;&#x5982;&#x679C;&#x7F13;&#x5B58;&#x548C;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x884C;&#x4E3A;&#x5747;&#x4E3A;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x4EA7;&#x751F; <code>AVError</code>&#x3002;</p>
</li>
<li><p version="6e1420d421238923684c1a705163c8d8"><code>kAVCachePolicyNetworkElseCache</code></p>
<p version="aacd243eb098ae1888f1bb8378ba286e">&#x67E5;&#x8BE2;&#x884C;&#x4E3A;&#x5148;&#x5C1D;&#x8BD5;&#x4ECE;&#x7F51;&#x7EDC;&#x52A0;&#x8F7D;&#xFF0C;&#x82E5;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x4ECE;&#x7F13;&#x5B58;&#x52A0;&#x8F7D;&#x7ED3;&#x679C;&#x3002;&#x5982;&#x679C;&#x7F13;&#x5B58;&#x548C;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x884C;&#x4E3A;&#x5747;&#x4E3A;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x4EA7;&#x751F; <code>AVError</code>&#x3002;</p>
</li>
<li><p version="3f379dc85bec9af6fc59317bd93706df"><code>kAVCachePolicyCacheThenNetwork</code></p>
<p version="4cf43b13c21cebae484f401b6420aded">&#x67E5;&#x8BE2;&#x5148;&#x4ECE;&#x7F13;&#x5B58;&#x52A0;&#x8F7D;&#xFF0C;&#x7136;&#x540E;&#x4ECE;&#x7F51;&#x7EDC;&#x52A0;&#x8F7D;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x4E24;&#x6B21;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x662F;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x56E0;&#x4E3A;&#x5B83;&#x4F1A;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x7B56;&#x7565;&#x4E0D;&#x80FD;&#x4E0E; <code>findObjects</code> &#x540C;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p>
</li>
</ul>
<p version="a39796b136e3615e023a9787d100badb">&#x8981;&#x63A7;&#x5236;&#x7F13;&#x5B58;&#x884C;&#x4E3A;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>AVQuery</code> &#x63D0;&#x4F9B;&#x7684;&#x76F8;&#x5E94;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li><p version="49bab2b75cf78bcd0ea544a53a43a19d">&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B58;&#x5728;&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre version="64799473f86a36832571485e08ac17dc"><code class="lang-objc">BOOL isInCache = [query hasCachedResult];
</code></pre>
</li>
<li><p version="a83095f98ed8fe22856bb88d3118aadd">&#x5220;&#x9664;&#x67D0;&#x4E00;&#x67E5;&#x8BE2;&#x7684;&#x4EFB;&#x4F55;&#x7F13;&#x5B58;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre version="0f7052d23859fbd0135961fcb7d6574f"><code class="lang-objc">[query clearCachedResult];
</code></pre>
</li>
<li><p version="e2255775375c9d3c51fdd7acc90f6011">&#x5220;&#x9664;&#x67E5;&#x8BE2;&#x7684;&#x6240;&#x6709;&#x7F13;&#x5B58;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre version="ae95fedaa470c511982cf0d49e9fd025"><code class="lang-objc">[AVQuery clearAllCachedResults];
</code></pre>
</li>
<li><p version="147c6aec646f959e3459a3c22e1843c6">&#x8BBE;&#x5B9A;&#x7F13;&#x5B58;&#x7ED3;&#x679C;&#x7684;&#x6700;&#x957F;&#x65F6;&#x9650;&#xFF1A;</p>
<pre version="00281a163e72436d60b0b6ec97a52250"><code class="lang-objc">query.maxCacheAge = 60 * 60 * 24; // &#x4E00;&#x5929;&#x7684;&#x603B;&#x79D2;&#x6570;
</code></pre>
</li>
</ul>
<p version="554dcabb835cc060a54b4fb141820a55">&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x4E5F;&#x9002;&#x7528;&#x4E8E; <code>AVQuery</code> &#x7684;&#x8F85;&#x52A9;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC; <code>getFirstObject</code> &#x548C; <code>getObjectInBackground</code>&#x3002;</p>
<h3 id="-">&#x5BF9;&#x8C61;&#x8BA1;&#x6570;</h3>
<p version="e7bd937f1b824272faddb9a7daeb3c82">&#x5982;&#x679C;&#x53EA;&#x9700;&#x8981;&#x5F97;&#x5230;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x68C0;&#x7D22;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; <code>countObjects</code> &#x6765;&#x4EE3;&#x66FF; <code>findObjects</code>&#x3002;</p>
<p version="8b4447c217377d713218e17df8715538">&#x4F8B;&#x5982;&#xFF0C;&#x8BA1;&#x7B97;&#x4E00;&#x4E0B;&#x67D0;&#x4F4D;&#x7528;&#x6237;&#x4E00;&#x5171;&#x53D1;&#x5E03;&#x4E86;&#x591A;&#x5C11;&#x6761;&#x5FAE;&#x535A;&#xFF1A;</p>
<pre version="46aaf9de5da0805021b0c5f21f513228"><code class="lang-objc">AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;pubUser&quot; equalTo:@&quot;&#x5F20;&#x4E09;&quot;];
[query countObjectsInBackgroundWithBlock:^(int count, NSError *error) {
  if (!error) {
    // &#x67E5;&#x8BE2;&#x6210;&#x529F;&#xFF0C;&#x8F93;&#x51FA;&#x8BA1;&#x6570;
    NSLog(@&quot;&#x5F20;&#x4E09; &#x53D1;&#x5E03;&#x4E86; %d &#x6761;&#x5FAE;&#x535A;&quot;, count);
  } else {
    // &#x67E5;&#x8BE2;&#x5931;&#x8D25;
  }
}];
</code></pre>
<p version="e988d80eaf5d39411fba907ba78d2977"><code>countObjects</code> &#x662F;&#x4E00;&#x79CD;&#x540C;&#x6B65;&#x5F0F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;&#x5B83;&#x53EF;&#x4EE5;&#x963B;&#x585E;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x3002;</p>
<p version="a91d216a7e55d993ce9b3190dce8b08d">&#x5BF9;&#x542B;&#x6709;&#x8D85;&#x8FC7; 1000 &#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#xFF0C;&#x4F7F;&#x7528;&#x8BA1;&#x6570;&#x64CD;&#x4F5C;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x54CD;&#x5E94;&#x8D85;&#x65F6;&#xFF0C;&#x6216;&#x8FD4;&#x56DE;&#x6570;&#x503C;&#x8FD1;&#x4F3C;&#x7CBE;&#x786E;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6784;&#x5EFA;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x8FD9;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<h3 id="-">&#x590D;&#x5408;&#x67E5;&#x8BE2;</h3>
<p version="1b57220211d7e8d4cafb40735fe2de56">&#x5982;&#x679C;&#x60F3;&#x4ECE;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x627E;&#x51FA;&#x4E0E;&#x5176;&#x4E2D;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x76F8;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; <code>orQueryWithSubqueries:</code>&#x3002;</p>
<p version="e78753658e0c661c9faf48ad610d9462">&#x4F8B;&#x5982;&#xFF0C;&#x627E;&#x51FA;&#x8D62;&#x4E86;&#x5F88;&#x591A;&#x573A;&#x6BD4;&#x8D5B;&#x6216;&#x8005;&#x53EA;&#x8D62;&#x4E86;&#x51E0;&#x573A;&#x6BD4;&#x8D5B;&#x7684;&#x7403;&#x5458;&#xFF1A;</p>
<pre version="e21d5e147a929853e7ce2e2b1a321cd0"><code class="lang-objc">AVQuery *lotsOfWins = [AVQuery queryWithClassName:@&quot;Player&quot;];
[lotsOfWins whereKey:@&quot;wins&quot; greaterThan:[NSNumber numberWithInt:150]];

AVQuery *fewWins = [AVQuery queryWithClassName:@&quot;Player&quot;];
[fewWins whereKey:@&quot;wins&quot; lessThan:[NSNumber numberWithInt:5]];
AVQuery *query = [AVQuery orQueryWithSubqueries:[NSArray arrayWithObjects:fewWins,lotsOfWins,nil]];
[query findObjectsInBackgroundWithBlock:^(NSArray *results, NSError *error) {
  // &#x8FD4;&#x56DE;&#x8D62;&#x7403;&#x6B21;&#x6570;&#x5927;&#x4E8E; 150 &#x573A;&#x6216;&#x5C0F;&#x4E8E; 5 &#x573A;&#x7684;&#x7403;&#x5458;
  }];
</code></pre>
<p version="9a5d730b172d78a5824b1dad97805ce2">&#x4F60;&#x53EF;&#x4EE5;&#x5BF9;&#x65B0;&#x521B;&#x5EFA;&#x7684; <code>AVQuery</code> &#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x7EA6;&#x675F;&#xFF0C;&#x591A;&#x4E2A;&#x7EA6;&#x675F;&#x5C06;&#x4EE5; AND &#x8FD0;&#x7B97;&#x7B26;&#x6765;&#x8054;&#x63A5;&#x3002;</p>
<p version="7f143f95e77db7a04f4ec64e444645c6">&#x6CE8;&#x610F;&#xFF1A;&#x5728;&#x590D;&#x5408;&#x67E5;&#x8BE2;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x975E;&#x8FC7;&#x6EE4;&#x6027;&#x7684;&#x7EA6;&#x675F;&#xFF08;&#x5982; <code>limit</code>&#x3001; <code>skip</code>&#x3001;<code>orderBy...:</code>&#x3001; <code>includeKey:</code>&#xFF09;&#x3002;</p>
<h3 id="cloud-query-language-cql-">Cloud Query Language&#xFF08;CQL&#xFF09;&#x67E5;&#x8BE2;</h3>
<p version="473d0a143fd11070e16ed6cd3771afe9">&#x6211;&#x4EEC;&#x8FD8;&#x63D0;&#x4F9B;&#x7C7B;&#x4F3C;&#x4E8E; SQL &#x8BED;&#x8A00;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x8A00; CQL&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre version="f0c8d9819b5f242f1e8643fcab17389f"><code class="lang-objc">    NSString *cql = [NSString stringWithFormat:@&quot;select * from %@&quot;, @&quot;ATestClass&quot;];
    AVCloudQueryResult *result = [AVQuery doCloudQueryWithCQL:cql];
    NSLog(@&quot;results:%@&quot;, result.results);

    cql = [NSString stringWithFormat:@&quot;select count(*) from %@&quot;, @&quot;ATestClass&quot;];
    result = [AVQuery doCloudQueryWithCQL:cql];
    NSLog(@&quot;count:%lu&quot;, (unsigned long)result.count);
</code></pre>
<p version="837a8f369a3f0cb71dcf350c89bfb93d">&#x901A;&#x5E38;&#xFF0C;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4F1A;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E0E; Java JDBC &#x6240;&#x4F7F;&#x7528;&#x7684; <code>PreparedStatement</code> &#x5360;&#x4F4D;&#x7B26;&#x67E5;&#x8BE2;&#x76F8;&#x7C7B;&#x4F3C;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x3002;</p>
<pre version="269c729331ef242f4422e97f172da5d1"><code class="lang-objc">    NSString *cql = [NSString stringWithFormat:@&quot;select * from %@ where durability = ? and name = ?&quot;, @&quot;ATestClass&quot;];
    NSArray *pvalues =  @[@100, @&quot;&#x7948;&#x798F;&quot;];
    [AVQuery doCloudQueryInBackgroundWithCQL:cql pvalues:pvalues callback:^(AVCloudQueryResult *result, NSError *error) {
        if (!error) {
            // &#x64CD;&#x4F5C;&#x6210;&#x529F;
        } else {
            NSLog(@&quot;%@&quot;, error);
        }
    }];
</code></pre>
<p version="a182e571cb903425a63ec71fbf5bd695">&#x53EF;&#x53D8;&#x53C2;&#x6570; <code>100</code> &#x548C; <code>&quot;&#x7948;&#x798F;&quot;</code> &#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x66FF;&#x6362;&#x5230;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x95EE;&#x53F7;&#x4F4D;&#x7F6E;&#xFF08;&#x6309;&#x95EE;&#x53F7;&#x51FA;&#x73B0;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF09;&#x3002;&#x6211;&#x4EEC;&#x66F4;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x5360;&#x4F4D;&#x7B26;&#x8BED;&#x6CD5;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x8FD9;&#x6837;&#x4F1A;&#x964D;&#x4F4E; CQL &#x8F6C;&#x6362;&#x7684;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x3002;</p>
<p version="8d4f87cec56b79ecda2a291fbd8e5d2d">&#x5173;&#x4E8E; CQL &#x7684;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#xFF0C;&#x8BF7;&#x53C2;&#x8003; <a href="cql_guide.html">Cloud Query Language &#x8BE6;&#x7EC6;&#x6307;&#x5357;</a>&#x3002;</p>
<h2 id="-">&#x5E94;&#x7528;&#x5185;&#x641C;&#x7D22;</h2>
<p version="512c7fb9fcbdfb43a3198e2fbaa574b5">&#x6211;&#x4EEC;&#x867D;&#x7136;&#x63D0;&#x4F9B;&#x4E86;&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x7684;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#xFF0C;&#x4F46;&#x662F;&#x6B63;&#x5219;&#x67E5;&#x8BE2;&#x6709;&#x4E24;&#x4E2A;&#x7F3A;&#x70B9;&#xFF1A;</p>
<ul>
<li>&#x5F53;&#x6570;&#x636E;&#x91CF;&#x9010;&#x6B65;&#x589E;&#x5927;&#x540E;&#xFF0C;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x5C06;&#x8D8A;&#x6765;&#x8D8A;&#x4F4E;</li>
<li>&#x6CA1;&#x6709;&#x6587;&#x672C;&#x76F8;&#x5173;&#x6027;&#x6392;&#x5E8F;</li>
</ul>
<p version="034fdbee30a3a67bf8c57d32cceb9458">&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;<a href="./app_search_guide.html">&#x5E94;&#x7528;&#x5185;&#x641C;&#x7D22;&#x529F;&#x80FD;</a>&#xFF0C;&#x57FA;&#x4E8E;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6784;&#x5EFA;&#xFF0C;&#x63D0;&#x4F9B;&#x66F4;&#x5F3A;&#x5927;&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x3002;</p>
<h2 id="-">&#x5B50;&#x7C7B;&#x5316;</h2>
<p version="a39f53f36b81e614005e16486e65582a">LeanCloud &#x8BBE;&#x8BA1;&#x7684;&#x76EE;&#x6807;&#x662F;&#x8BA9;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x5C3D;&#x5FEB;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x7528; <code>AVObject</code> &#x8BBF;&#x95EE;&#x5230;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7528; <code>objectForKey:</code> &#x83B7;&#x53D6;&#x4EFB;&#x610F;&#x5B57;&#x6BB5;&#x3002; &#x5728;&#x6210;&#x719F;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5B50;&#x7C7B;&#x5316;&#x6709;&#x5F88;&#x591A;&#x4F18;&#x52BF;&#xFF0C;&#x5305;&#x62EC;&#x964D;&#x4F4E;&#x4EE3;&#x7801;&#x91CF;&#xFF0C;&#x5177;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x548C;&#x652F;&#x6301;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x3002;</p>
<p version="67fc62a2bbe87ea6baf1f12ad5107d55">&#x5B50;&#x7C7B;&#x5316;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x8BF7;&#x5BF9;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6765;&#x52A0;&#x6DF1;&#x7406;&#x89E3;&#xFF1A;</p>
<pre version="be97b27799c082c8f5a80ab96ae95f1b"><code>AVObject *student = [AVObject objectWithClassName:@&quot;Student&quot;];
[student setObject:@&quot;&#x5C0F;&#x660E;&quot; forKey:@&quot;name&quot;];
[student saveInBackground];
</code></pre><p version="c2e5e745d03911f157136f0d4e559979">&#x53EF;&#x6539;&#x5199;&#x6210;:</p>
<pre version="3c0a02538d46408b8b6874ece7c7675a"><code>Student *student = [Student object];
student.name = @&quot;&#x5C0F;&#x660E;&quot;;
[student saveInBackground];
</code></pre><p version="fce2d0f6e837bb6fcca96349d2bf7b35">&#x8FD9;&#x6837;&#x4EE3;&#x7801;&#x770B;&#x8D77;&#x6765;&#x662F;&#x4E0D;&#x662F;&#x66F4;&#x7B80;&#x6D01;&#x5462;&#xFF1F;</p>
<h3 id="-">&#x5B50;&#x7C7B;&#x5316;&#x7684;&#x5B9E;&#x73B0;</h3>
<p version="7f283392db99bdf3d673f30a89b7c97f">&#x8981;&#x5B9E;&#x73B0;&#x5B50;&#x7C7B;&#x5316;&#xFF0C;&#x9700;&#x8981;&#x4E0B;&#x9762;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ol>
<li>&#x5BFC;&#x5165; <code>AVObject+Subclass.h</code>&#xFF1B;</li>
<li>&#x7EE7;&#x627F; <code>AVObject</code> &#x5E76;&#x5B9E;&#x73B0; <code>AVSubclassing</code> &#x534F;&#x8BAE;&#xFF1B;</li>
<li>&#x5B9E;&#x73B0;&#x7C7B;&#x65B9;&#x6CD5; <code>parseClassName</code>&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x539F;&#x5148;&#x8981;&#x4F20;&#x7ED9; <code>initWithClassName:</code> &#x7684;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x540E;&#x7EED;&#x5C31;&#x4E0D;&#x5FC5;&#x518D;&#x8FDB;&#x884C;&#x7C7B;&#x540D;&#x5F15;&#x7528;&#x4E86;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5B9E;&#x73B0;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x7C7B;&#x7684;&#x540D;&#x5B57;&#x3002;<strong>&#x8BF7;&#x6CE8;&#x610F;&#xFF1A; <code>AVUser</code> &#x5B50;&#x7C7B;&#x5316;&#x540E;&#x5FC5;&#x987B;&#x8FD4;&#x56DE; <code>_User</code></strong>&#xFF1B;</li>
<li>&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x5B50;&#x7C7B;&#x4E4B;&#x524D;&#x8C03;&#x7528; <code>[YourClass registerSubclass]</code>&#xFF08;<strong>&#x5728;&#x5E94;&#x7528;&#x5F53;&#x524D;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528;&#x4E00;&#x6B21;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x653E;&#x5728; <code>ApplicationDelegate</code> &#x4E2D;&#xFF0C;&#x5728; <code>[AVOSCloud setApplicationId:clientKey:]</code> &#x4E4B;&#x524D;&#x8C03;&#x7528;&#x5373;&#x53EF;&#xFF09;&#x3002;</li>
</ol>
<p version="4127dfe774fd5e0cb0104de2390e438c">&#x4E0B;&#x9762;&#x662F;&#x5B9E;&#x73B0; <code>Student</code> &#x5B50;&#x7C7B;&#x5316;&#x7684;&#x4F8B;&#x5B50;:</p>
<pre version="effdd80c4f2b4e00d4f4a956cac57690"><code class="lang-objc">  //Student.h
  #import &lt;AVOSCloud/AVOSCloud.h&gt;

  @interface Student : AVObject &lt;AVSubclassing&gt;

  @property(nonatomic,copy) NSString *name;

  @end


  //Student.m
  #import &quot;Student.h&quot;

  @implementation Student

  @dynamic name;

  + (NSString *)parseClassName {
      return @&quot;Student&quot;;
  }

  @end


  // AppDelegate.m
  #import &lt;AVOSCloud/AVOSCloud.h&gt;
  #import &quot;Student.h&quot;

  - (BOOL)application:(UIApplication *)application
  didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    [Student registerSubclass];
    [AVOSCloud setApplicationId:appid clientKey:appkey];
  }
</code></pre>
<h3 id="-">&#x5C5E;&#x6027;</h3>
<p version="1c638be8b9e42b051ec12dcbfc10e5aa">&#x4E3A; <code>AVObject</code> &#x7684;&#x5B50;&#x7C7B;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x5730;&#x5C06;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x903B;&#x8F91;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#x3002;&#x7528; <code>AVSubclassing</code> &#x53EF;&#x4EE5;&#x628A;&#x6240;&#x6709;&#x7684;&#x76F8;&#x5173;&#x903B;&#x8F91;&#x653E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x5FC5;&#x518D;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x6765;&#x533A;&#x5206;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x548C;&#x5B58;&#x50A8;&#x8F6C;&#x6362;&#x903B;&#x8F91;&#x4E86;&#x3002;</p>
<p version="69e22a2c47af274c9f1cdd64ef830517"><code>AVObject</code> &#x652F;&#x6301;&#x52A8;&#x6001; synthesizer&#xFF0C;&#x5C31;&#x50CF; <code>NSManagedObject</code> &#x4E00;&#x6837;&#x3002;&#x5148;&#x6B63;&#x5E38;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x53EA;&#x662F;&#x5728; .m &#x6587;&#x4EF6;&#x4E2D;&#x628A; <code>@synthesize</code> &#x53D8;&#x6210; <code>@dynamic</code>&#x3002;</p>
<p version="57d41f2d0efc11cab0aeaac382f61788">&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x600E;&#x4E48;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x300C;&#x5E74;&#x9F84;&#x300D;&#x5C5E;&#x6027;&#xFF1A;</p>
<pre version="ee9706e79c67948dada9bd80e633ac23"><code class="lang-objc">  //Student.h
  #import &lt;AVOSCloud/AVOSCloud.h&gt;

  @interface Student : AVObject &lt;AVSubclassing&gt;

  @property int age;

  @end


  //Student.m
  #import &quot;Student.h&quot;

  @implementation Student

  @dynamic age;

  ......
</code></pre>
<p version="c2544df3b9adbd52840a87401b6bbd4f">&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>student.age = 19</code> &#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8BFB;&#x5199; <code>age</code> &#x5B57;&#x6BB5;&#x4E86;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#xFF1A;</p>
<pre version="4136e67e9f297f5b0f30a03a00f79074"><code class="lang-objc">[student setAge:19]
</code></pre>
<p version="0658501b5e87fbf6256ace8194cb5de5"><strong>&#x6CE8;&#x610F;&#xFF1A;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x4FDD;&#x6301;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;&#xFF01;</strong>&#xFF08;&#x9519;&#x8BEF;&#xFF1A;<code>student.Age</code> &#x6B63;&#x786E;&#xFF1A;<code>student.age</code>&#xFF09;&#x3002;</p>
<p version="62d7e592fb9a43c511a0918d01846135"><code>NSNumber</code> &#x7C7B;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x53EF;&#x7528; <code>NSNumber</code> &#x6216;&#x8005;&#x662F;&#x5B83;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF08;<code>int</code>&#x3001; <code>long</code> &#x7B49;&#xFF09;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF0C; <code>[student objectForKey:@&quot;age&quot;]</code> &#x8FD4;&#x56DE;&#x7684;&#x662F; <code>NSNumber</code> &#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x5B9E;&#x9645;&#x88AB;&#x8BBE;&#x4E3A; <code>int</code> &#x7C7B;&#x578B;&#x3002;</p>
<p version="b5bb9f532f3c398f119c1649f286f6e9">&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x6765;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x7C7B;&#x578B;&#x3002;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#x66F4;&#x4E3A;&#x6613;&#x7528;&#xFF0C;&#x800C; <code>NSNumber</code> &#x652F;&#x6301; <code>nil</code> &#x503C;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x8BA9;&#x7ED3;&#x679C;&#x66F4;&#x6E05;&#x6670;&#x6613;&#x61C2;&#x3002;</p>
<p version="5eac26dbc51576f75a1beb24d8341128"><strong>&#x6CE8;&#x610F;</strong> &#x5B50;&#x7C7B;&#x4E2D;&#xFF0C;&#x5BF9;&#x4E8E; <code>BOOL</code> &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;SDK &#x5728; 3.1.3.2 &#x4E4B;&#x524D;&#x4F1A;&#x5C06;&#x5176;&#x4FDD;&#x5B58;&#x4E3A; Number &#x7C7B;&#x578B;&#xFF0C;3.1.3.2 &#x4E4B;&#x540E;&#x5C06;&#x5176;&#x6B63;&#x786E;&#x4FDD;&#x5B58;&#x4E3A; Bool &#x7C7B;&#x578B;&#x3002;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x8003;<a href="https://leancloud.cn/docs/ios_os_x_faq.html#&#x4E3A;&#x4EC0;&#x4E48;&#x5347;&#x7EA7;&#x5230;_3_1_3_2_&#x4EE5;&#x4E0A;&#x7684;&#x7248;&#x672C;&#x65F6;_BOOL_&#x7C7B;&#x578B;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x9519;&#x8BEF;_">&#x8FD9;&#x91CC;</a>&#x3002;</p>
<p version="73b6b74273eb615da4f693bf28216ec9">&#x6CE8;&#x610F;&#xFF1A;<code>AVRelation</code> &#x540C;&#x6837;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5B50;&#x7C7B;&#x5316;&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6765;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<pre version="12550b69d10ccd099f89661d8c7effa6"><code class="lang-objc">@interface Student : AVUser &lt;AVSubclassing&gt;
@property(retain) AVRelation *friends;
  ......
@end

@implementation Student
@dynamic friends;
  ......
</code></pre>
<p version="b06c1f12217135092c61c372e62cebef">&#x53E6;&#x5916;&#xFF0C;&#x503C;&#x4E3A; Pointer &#x7684;&#x5B9E;&#x4F8B;&#x53EF;&#x7528; <code>AVObject*</code> &#x6765;&#x8868;&#x793A;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C; <code>Student</code> &#x4E2D; <code>bestFriend</code> &#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x53E6;&#x4E00;&#x4E2A; <code>Student</code> &#x7684;&#x952E;&#xFF0C;&#x7531;&#x4E8E; Student &#x662F;&#x4E00;&#x4E2A; AVObject&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x952E;&#x7684;&#x503C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E2A; <code>AVObject*</code> &#x6765;&#x4EE3;&#x66FF;&#xFF1A;</p>
<pre version="d366c3536b3c8803d0f74dedeb6bb2d0"><code class="lang-objc">@interface Student : AVUser &lt;AVSubclassing&gt;
@property(nonatomic, strong) AVObject *bestFriend;
 ......
@end

@implementation Student
@dynamic bestFriend;
  ......
</code></pre>
<p version="62f25ca93ccf738897424641288519ef">&#x63D0;&#x793A;&#xFF1A;&#x5F53;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6700;&#x540E;&#x90FD;&#x8981;&#x8BB0;&#x5F97;&#x52A0;&#x4E0A; <code>[student save]</code> &#x6216;&#x8005;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x53F0;&#x5B58;&#x50A8;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x624D;&#x4F1A;&#x540C;&#x6B65;&#x81F3;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p version="64991e916db408e21aef009ea97d49d4">&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x66F4;&#x590D;&#x6742;&#x7684;&#x903B;&#x8F91;&#x800C;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;:</p>
<pre version="5eb8f5a59ecc1e046c239dd4f7b5963e"><code class="lang-objc">  @dynamic iconFile;

  - (UIImageView *)iconView {
    UIImageView *view = [[UIImageView alloc] initWithImage:kPlaceholderImage];
    view.image = [UIImage imageNamed:self.iconFile];
    return [view autorelease];
  }
</code></pre>
<h3 id="-avuser-">&#x9488;&#x5BF9; AVUser &#x5B50;&#x7C7B;&#x5316;&#x7684;&#x7279;&#x522B;&#x8BF4;&#x660E;</h3>
<p version="6fa3a3fdfdbc12868e29d06a7cf52b5c">&#x5047;&#x5982;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; <code>AVUser</code> &#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x5982;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684; <code>Student</code>:</p>
<pre version="3548440ee2091c70a0f6ed1a88f6fd84"><code class="lang-objc">@interface Student : AVUser&lt;AVSubclassing&gt;
@property (retain) NSString *displayName;
@end


@implementation Student
@dynamic displayName;
+ (NSString *)parseClassName {
    return @&quot;_User&quot;;
}
@end
</code></pre>
<p version="d827ee0e123aed1ec320599290e6e4dc">&#x767B;&#x5F55;&#x65F6;&#x9700;&#x8981;&#x8C03;&#x7528; <code>Student</code> &#x7684;&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#x624D;&#x80FD;&#x901A;&#x8FC7; <code>currentUser</code> &#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;:</p>
<pre version="7ec8722ddb27a6f43e7b8c4ddc4828a0"><code class="lang-objc">[Student logInWithUsernameInBackground:@&quot;USER_NAME&quot; password:@&quot;PASSWORD&quot; block:^(AVUser *user, NSError *error) {
        Student *student = [Student currentUser];
        student.displayName = @&quot;YOUR_DISPLAY_NAME&quot;;
    }];
</code></pre>
<p version="2801f24956ba83a3f3a734cf02bddb6b">&#x540C;&#x6837;&#x9700;&#x8981;&#x8C03;&#x7528; <code>[Student registerSubclass];</code>&#xFF0C;&#x786E;&#x4FDD;&#x5728;&#x5176;&#x5B83;&#x5730;&#x65B9;&#x5F97;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x662F; Student&#xFF0C;&#x800C;&#x975E; AVUser &#x3002;</p>
<h3 id="-">&#x521D;&#x59CB;&#x5316;&#x5B50;&#x7C7B;</h3>
<p version="29576d49c5d680c053e454d324bcfe64">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x5B9E;&#x4F8B;&#xFF0C;&#x8981;&#x4F7F;&#x7528; <code>object</code> &#x7C7B;&#x65B9;&#x6CD5;&#x3002;&#x8981;&#x521B;&#x5EFA;&#x5E76;&#x5173;&#x8054;&#x5230;&#x5DF2;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; <code>objectWithoutDataWithObjectId:</code> &#x7C7B;&#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="-">&#x5B50;&#x7C7B;&#x67E5;&#x8BE2;</h3>
<p version="f8f007791d3139d68032fc19a11f5ade">&#x4F7F;&#x7528;&#x7C7B;&#x65B9;&#x6CD5; <code>query</code> &#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;&#x7684;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x3002;</p>
<p version="8c76c584b52a84d4371e56f8aa967471">&#x4F8B;&#x5982;&#xFF0C;&#x67E5;&#x8BE2;&#x5E74;&#x9F84;&#x5C0F;&#x4E8E; 21 &#x5C81;&#x7684;&#x5B66;&#x751F;&#xFF1A;</p>
<pre version="271a4d09f582db8c65935e8f744f8c64"><code class="lang-objc">  AVQuery *query = [Student query];
  [query whereKey:@&quot;age&quot; lessThanOrEqualTo:@(21)];
  [query findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
    if (!error) {
      Student *stu1 = [objects objectAtIndex:0];
      // ...
    }
  }];
</code></pre>
<h2 id="acl-">ACL&#x6743;&#x9650;&#x63A7;&#x5236;</h2>
<p version="672be4b679e5aae23bc1e82215be77a8">ACL&#xFF08;Access Control List&#xFF09;&#x662F;&#x6700;&#x7075;&#x6D3B;&#x800C;&#x4E14;&#x7B80;&#x5355;&#x7684;&#x5E94;&#x7528;&#x6570;&#x636E;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x65B9;&#x6CD5;&#x3002;&#x901A;&#x4FD7;&#x7684;&#x89E3;&#x91CA;&#x5C31;&#x662F;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8BBF;&#x95EE;&#x7684;&#x767D;&#x540D;&#x5355;&#x5217;&#x8868;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x540D;&#x5355;&#x4E0A;&#x7684;&#x7528;&#x6237;&#xFF08; <code>AVUser</code>&#xFF09;&#x6216;&#x8005;&#x5177;&#x6709;&#x67D0;&#x79CD;&#x89D2;&#x8272;&#xFF08;<code>AVRole</code>&#xFF09;&#x7684;&#x7528;&#x6237;&#x624D;&#x80FD;&#x88AB;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x3002;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x5730;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;LeanCloud &#x7684;&#x6BCF;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x90FD;&#x6709;&#x4E00;&#x4E2A; ACL &#x5217;&#x3002;</p>
<p version="1c19d57b8cde2b7e9bfbdff510b7df9f">&#x5F53;&#x7136;&#xFF0C;LeanCloud &#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x63A7;&#x5236;&#x3002;&#x4E00;&#x4E2A; User &#x5FC5;&#x987B;&#x62E5;&#x6709;&#x8BFB;&#x6743;&#x9650;&#xFF08;&#x6216;&#x8005;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x8BFB;&#x6743;&#x9650;&#x7684; Role&#xFF09;&#x624D;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#xFF1B;&#x540C;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A; User &#x9700;&#x8981;&#x5199;&#x6743;&#x9650;&#xFF08;&#x6216;&#x8005;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x5199;&#x6743;&#x9650;&#x7684; Role&#xFF09;&#x624D;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x6216;&#x8005;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</p>
<p version="5c5fed6b4dcf3d86a2a2e1e900db6056">&#x4EE5;&#x4E0B;&#x5217;&#x4E3E;&#x4E86;&#x51E0;&#x79CD;&#x5728; LeanCloud &#x5E38;&#x89C1;&#x7684; ACL &#x4F7F;&#x7528;&#x8303;&#x4F8B;&#x3002;</p>
<h3 id="-">&#x9ED8;&#x8BA4;&#x8BBF;&#x95EE;&#x6743;&#x9650;</h3>
<p version="19d831bfadcb4ce4adefa3ebcbe958dc">&#x5728;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x6307;&#x5B9A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;LeanCloud &#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684; ACL &#x503C;&#x3002;&#x8FD9;&#x4E2A;&#x503C;&#x8868;&#x793A;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7528;&#x6237;&#x5BF9;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x53EF;&#x8BFB;&#x53EF;&#x5199;&#x7684;&#x3002;&#x6B64;&#x65F6;&#x5728; LeanCloud &#x8D26;&#x6237;&#x7684;&#x300C;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x300D;&#x5217;&#x8868;&#x4E2D;&#x7684; ACL &#x5C5E;&#x6027;&#x5217;&#xFF0C;&#x4F1A;&#x770B;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x503C;&#xFF1A;</p>
<pre version="9b6b7c209f3ee3c86879cde39077d734"><code class="lang-json">    {&quot;*&quot;:{&quot;read&quot;:true,&quot;write&quot;:true}}
</code></pre>
<p version="8745d261526586531b74bfd05ee299bf">&#x5BF9;&#x5E94;&#x7684; Objective-C &#x4EE3;&#x7801;&#x662F;&#xFF1A;</p>
<pre version="652e9d0392e2d1e2725576d7a7ee5283"><code class="lang-objc">    AVACL *acl = [AVACL ACL];
    [acl setPublicReadAccess:YES];
    [acl setPublicWriteAccess:YES];
</code></pre>
<p version="d1d58634c94c447a97c58f991daf2cf3">&#x5F53;&#x7136;&#x6B63;&#x5982;&#x4E0A;&#x6587;&#x63D0;&#x5230;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684; ACL &#x5E76;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x663E;&#x5F0F;&#x6307;&#x5B9A;&#x3002;</p>
<h3 id="-">&#x6307;&#x5B9A;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6743;&#x9650;</h3>
<p version="8141583852217ae09211991ba458b852">&#x5F53;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x5728;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7F51;&#x76D8;&#x7C7B;&#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x6587;&#x4EF6;&#x7684;&#x79C1;&#x5BC6;&#x6027;&#xFF0C;&#x7528;&#x6237;&#x5C31;&#x9700;&#x8981;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002;&#x8B6C;&#x5982;&#x516C;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x90FD;&#x6709;&#x8BFB;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x7136;&#x540E;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;&#x521B;&#x5EFA;&#x8005;&#x624D;&#x62E5;&#x6709;&#x66F4;&#x6539;&#x548C;&#x5220;&#x9664;&#x7684;&#x6743;&#x9650;&#x3002;</p>
<pre version="67db08919a10d70bf6d20cfef751f33d"><code class="lang-objc">
    AVACL *acl = [AVACL ACL];
    [acl setPublicReadAccess:YES]; //&#x6B64;&#x5904;&#x8BBE;&#x7F6E;&#x7684;&#x662F;&#x6240;&#x6709;&#x4EBA;&#x7684;&#x53EF;&#x8BFB;&#x6743;&#x9650;
    [acl setWriteAccess:YES forUser:[AVUser currentUser]]; //&#x800C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E86;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x8005;&#x7684;&#x5199;&#x6743;&#x9650;

    AVObject * object = [AVObject objectWithClassName:@&quot;iOSAclTest&quot;];

    object.ACL=acl;
    [object save];
</code></pre>
<p version="61d763a2788ca97c4ff48258b8f7099e">&#x5F53;&#x7136;&#x7528;&#x6237;&#x4E5F;&#x4F1A;&#x4E0A;&#x4F20;&#x4E00;&#x4E9B;&#x9690;&#x79C1;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x6709;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x7684;&#x521B;&#x5EFA;&#x8005;&#x624D;&#x5BF9;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x62E5;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#xFF1A;</p>
<pre version="c06493eae2ac15c2f5e0d7800cbd4b6a"><code class="lang-objc">    [acl setWriteAccess:YES forUser:[AVUser currentUser]];
</code></pre>
<p version="7dd878887a5fdd7693e83f45b0ef3ab7">&#x6CE8;&#xFF1A;&#x4E00;&#x65E6;&#x663E;&#x5F0F;&#x8BBE;&#x7F6E;&#x4E86; ACL&#xFF0C;&#x9ED8;&#x8BA4;&#x7684; ACL &#x5C31;&#x4F1A;&#x88AB;&#x8986;&#x76D6;&#x3002;</p>
<h3 id="-">&#x6307;&#x5B9A;&#x89D2;&#x8272;&#x8BBF;&#x95EE;&#x6743;&#x9650;</h3>
<h4 id="avuser-avrole-">AVUser &#x4E0E; AVRole &#x7684;&#x4ECE;&#x5C5E;&#x5173;&#x7CFB;</h4>
<p version="3c8268e74e5527c0cac15b30d594ec5c">&#x6307;&#x5B9A;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x867D;&#x7136;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x4F1A;&#x6709;&#x5C40;&#x9650;&#x6027;&#x3002;</p>
<p version="bf0515bfdc4b993b135e76a5c76bec01">&#x4EE5;&#x5DE5;&#x8D44;&#x7CFB;&#x7EDF;&#x4E3A;&#x4F8B;&#xFF0C;&#x4E00;&#x5BB6;&#x516C;&#x53F8;&#x7684;&#x5DE5;&#x8D44;&#x7CFB;&#x7EDF;&#xFF0C;&#x5DE5;&#x8D44;&#x6700;&#x7EC8;&#x7684;&#x5F52;&#x5C5E;&#x8005;&#x548C;&#x516C;&#x53F8;&#x7684;&#x51FA;&#x7EB3;&#x4EEC;&#x53EA;&#x5BF9;&#x5DE5;&#x8D44;&#x6709;&#x8BFB;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x800C;&#x516C;&#x53F8;&#x7684;&#x4EBA;&#x4E8B;&#x548C;&#x8001;&#x677F;&#x624D;&#x62E5;&#x6709;&#x5168;&#x90E8;&#x7684;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x3002;&#x5F53;&#x7136;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8BBE;&#x7F6E;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x529F;&#x80FD;&#xFF08;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x7684; ACL &#x8BBE;&#x7F6E;&#x662F;&#x8FFD;&#x52A0;&#x7684;&#x800C;&#x975E;&#x8986;&#x76D6;&#xFF09;&#x3002;</p>
<pre version="ef60a06a492f0f1789bcdebc87435855"><code class="lang-objc">    AVObect *salary = [AVObject objectWithClassName:@&quot;Salary&quot;];
    [salary setObject:@(2000000) forKey:@&quot;value&quot;];

    //&#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8BF4;&#x660E;, &#x76F4;&#x63A5;&#x58F0;&#x660E;&#x4E86;&#x53D8;&#x91CF;, &#x4F46;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;
    AVUser *boss;    //&#x5047;&#x8BBE;&#x6B64;&#x5904;&#x4E3A;&#x8001;&#x677F;
    AVUser *hrWang;  //&#x4EBA;&#x4E8B;&#x5C0F;&#x738B;
    AVUser *me;      //&#x6211;&#x4EEC;&#x5C31;&#x5728;&#x6587;&#x6863;&#x91CC;&#x723D;&#x4E00;&#x723D;&#x5427;
    AVUser *cashierZhou;  //&#x51FA;&#x7EB3;&#x8001;&#x5468;


    AVACL *acl = [AVACL ACL];

    //4 &#x4E2A;&#x4EBA;&#x90FD;&#x6709;&#x53EF;&#x8BFB;&#x6743;&#x9650;
    [acl setReadAccess:YES forUser:boss];
    [acl setReadAccess:YES forUser:hrWang];
    [acl setReadAccess:YES forUser:cashierZhou];
    [acl setReadAccess:YES forUser:me];

    //&#x53EA;&#x6709; 2 &#x4E2A;&#x4EBA;&#x53EF;&#x5199;
    [acl setWriteAccess:YES forUser:boss];
    [acl setWriteAccess:YES forUser:hrWang];

    [salary setACL:acl];
    [salary save];
</code></pre>
<p version="cc42d79de3e4aeae3033581939cfc476">&#x4F46;&#x662F;&#x6D89;&#x53CA;&#x7684;&#x4EBA;&#x53EF;&#x80FD;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#xFF0C;&#x4E5F;&#x6709;&#x79BB;&#x804C;&#x3001;&#x6362;&#x5C97;&#x3001;&#x65B0;&#x5458;&#x5DE5;&#x7684;&#x95EE;&#x9898;&#x5B58;&#x5728;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x65E2;&#x4E0D;&#x4F18;&#x96C5;&#xFF0C;&#x4E5F;&#x592A;&#x5570;&#x55E6;&#xFF0C;&#x540C;&#x6837;&#x4F1A;&#x5F88;&#x96BE;&#x7EF4;&#x62A4;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x5F15;&#x5165;&#x4E86; <code>AVRole</code> &#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>
<p version="32fd7366dd75534af643cda0e2385761">&#x516C;&#x53F8;&#x7684;&#x5458;&#x5DE5;&#x53EF;&#x4EE5;&#x6210;&#x767E;&#x4E0A;&#x5343;&#xFF0C;&#x7136;&#x800C;&#x4E00;&#x4E2A;&#x516C;&#x53F8;&#x7EC4;&#x7EC7;&#x91CC;&#x7684;&#x89D2;&#x8272;&#x5374;&#x80FD;&#x591F;&#x5728;&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x4FDD;&#x6301;&#x76F8;&#x5BF9;&#x7A33;&#x5B9A;&#x3002;</p>
<pre version="c51d3aeec32d0ae697d4a108e20ec67e"><code class="lang-objc">    AVObect *salary = [AVObject objectWithClassName:@&quot;Salary&quot;];
    [salary setObject:@(2000000) forKey:@&quot;value&quot;];

    //&#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8BF4;&#x660E;, &#x76F4;&#x63A5;&#x58F0;&#x660E;&#x4E86;&#x53D8;&#x91CF;, &#x4F46;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;
    AVUser *boss;    //&#x5047;&#x8BBE;&#x6B64;&#x5904;&#x4E3A;&#x8001;&#x677F;
    AVUser *hrWang;  //&#x4EBA;&#x4E8B;&#x5C0F;&#x738B;
    AVUser *me;      //&#x6211;&#x4EEC;&#x5C31;&#x5728;&#x6587;&#x6863;&#x91CC;&#x723D;&#x4E00;&#x723D;&#x5427;
    AVUser *cashierZhou; //&#x51FA;&#x7EB3;&#x8001;&#x5468;
    AVUser *cashierGe;   //&#x51FA;&#x7EB3;&#x5C0F;&#x845B;

    //&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x653E;&#x5728;&#x5458;&#x5DE5;&#x7BA1;&#x7406;&#x754C;&#x9762;&#x66F4;&#x6070;&#x5F53;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x793A;&#x610F;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x653E;&#x5728;&#x8FD9;&#x91CC;
    AVRole *hr =[AVRole roleWithName:@&quot;hr&quot;];
    AVRole *cashier = [AVRole roleWithName:@&quot;cashier&quot;];

    [[hr users] addObject:hrWang];
    [hr save];
    //&#x6B64;&#x5904;&#x5BF9;&#x5E94;&#x7684;&#x662F; AVRole &#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A; users &#x7684; Relation &#x5B57;&#x6BB5;
    [[cashier users] addObject:cashierZhou];
    [[cashier users] addObject:cashierGe];
    [cashier save];

    AVACL *acl = [AVACL ACL];
    //&#x8001;&#x677F;&#x5047;&#x8BBE;&#x53EA;&#x6709;&#x4E00;&#x4E2A;
    [acl setReadAccess:YES forUser:boss];
    [acl setReadAccess:YES forUser:me];

    [acl setReadAccess:YES forRole:hr];
    [acl setReadAccess:YES forRole:cashier];

    [acl setWriteAccess:YES forUser:boss];
    [acl setWriteAccess:YES forRole:hr];

    [salary setACL:acl];
    [salary save];
</code></pre>
<p version="2b542c13cdcc0653303cea37a37d742c">&#x5F53;&#x7136;&#x5982;&#x679C;&#x8003;&#x8651;&#x5230;&#x4E00;&#x4E2A;&#x89D2;&#x8272;&#xFF08;<code>AVRole</code>&#xFF09;&#x91CC;&#x9762;&#x6709;&#x591A;&#x5C11;&#x5458;&#x5DE5;&#xFF08;<code>AVUser</code>&#xFF09;&#xFF0C;&#x7F16;&#x8F91;&#x8FD9;&#x4E9B;&#x5458;&#x5DE5;&#x6240;&#x9700;&#x8981;&#x7684;&#x6743;&#x9650;&#x63A7;&#x5236;&#xFF0C;<code>AVRole</code> &#x540C;&#x6837;&#x4E5F;&#x6709; <code>setACL</code> &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<h4 id="avrole-">AVRole &#x4E4B;&#x95F4;&#x7684;&#x4ECE;&#x5C5E;&#x5173;&#x7CFB;</h4>
<p version="23cb39aa7b44e3605c7994bbaaaf64e5">&#x5728;&#x8BB2;&#x6E05;&#x695A;&#x4E86;&#x7528;&#x6237;&#x4E0E;&#x89D2;&#x8272;&#x7684;&#x5173;&#x7CFB;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x6709;&#x4E00;&#x5C42;&#x89D2;&#x8272;&#x4E0E;&#x89D2;&#x8272;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6216;&#x8BB8;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x3002;</p>
<p version="4179e557ac89acf2b8b3b60ef30b57ab">&#x4E00;&#x5BB6;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x8BBE;&#x6709;&#x79FB;&#x52A8;&#x90E8;&#x95E8;&#xFF0C;&#x8BE5;&#x90E8;&#x95E8;&#x4E0B;&#x9762;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5C0F;&#x7EC4;&#xFF08;Android &#x548C; iOS&#xFF09;&#xFF0C;&#x6BCF;&#x4E2A;&#x5C0F;&#x7EC4;&#x53EA;&#x5BF9;&#x81EA;&#x5DF1;&#x7EC4;&#x7684;&#x4EE3;&#x7801;&#x62E5;&#x6709;&#x300C;&#x8BFB;&#x5199;&#x300D;&#x6743;&#x9650;&#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x540C;&#x65F6;&#x5BF9;&#x6838;&#x5FC3;&#x5E93;&#x4EE3;&#x7801;&#x62E5;&#x6709;&#x300C;&#x8BFB;&#x53D6;&#x300D;&#x6743;&#x9650;&#x3002;</p>
<pre version="dd252c5bea6c7416f8cb5e5ebe1b30c6"><code class="lang-objc">    AVRole *androidTeam = [AVRole roleWithName:@&quot;AndroidTeam&quot;];
    AVRole *iOSTeam = [AVRole roleWithName:@&quot;IOSTeam&quot;];
    AVRole *mobileDev = [AVRole roleWithName:@&quot;MobileDev&quot;];

    [androidTeam save];
    [iOSTeam save];

    [[mobileDev roles] addObject:androidTeam];
    [[mobileDev roles] addObject:iOSTeam];

    [mobileDev save];

    AVObject *androidCode = [AVObject objectWithClassName:@&quot;Code&quot;];
    AVObject *iOSCode = [AVObject objectWithClassName:@&quot;Code&quot;];
    AVObject *coreCode = [AVObject objectWithClassName:@&quot;Code&quot;];
    //.....&#x6B64;&#x5904;&#x7701;&#x7565;&#x4E00;&#x4E9B;&#x5177;&#x4F53;&#x7684;&#x503C;&#x8BBE;&#x5B9A;

    AVACL *acl1=[AVACL ACL];
    [acl1 setReadAccess:YES forRole:androidTeam];
    [acl1 setWriteAccess:YES forRole:androidTeam];
    [androidCode setACL:acl1];

    AVACL *acl2=[AVACL ACL];
    [acl2 setReadAccess:YES forRole:iOSTeam];
    [acl2 setWriteAccess:YES forRole:iOSTeam];
    [iOSCode setACL:acl2];

    AVACL *acl3=[AVACL ACL];
    [acl3 setReadAccess:YES forRole:mobileDev];
    [coreCode setACL:acl3];

    [androidCode save];
    [iOSTeam save];
    [coreCode save];
</code></pre>
<h2 id="-">&#x6587;&#x4EF6;</h2>
<h3 id="avfile">AVFile</h3>
<p version="53e453c047b026bef60a15d65a88ddcd"><code>AVFile</code> &#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5C06;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x56FE;&#x7247;&#x3001;&#x89C6;&#x9891;&#x3001;&#x97F3;&#x4E50;&#x7B49;&#x5E38;&#x89C1;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x3002;</p>
<p version="900d191f2294403fef984bdcf6b024b7"><code>AVFile</code> &#x7684;&#x7528;&#x6CD5;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x9996;&#x5148;&#x628A;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5B58;&#x5230; <code>NSData</code> &#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x8BE5; <code>NSData</code> &#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x6765;&#x521B;&#x5EFA; <code>AVFile</code> &#x5BF9;&#x8C61;&#x3002;&#x4E0B;&#x9762;&#x4EE5;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E3A;&#x4F8B;&#xFF1A;</p>
<pre version="c2a7aed848df04519c2fde860f785c45"><code class="lang-objc">NSData *data = [@&quot;Working with LeanCloud is great!&quot; dataUsingEncoding:NSUTF8StringEncoding];
AVFile *file = [AVFile fileWithName:@&quot;resume.txt&quot; data:data];
</code></pre>
<p version="37f1c5a69f2bbcc541f44491c4872520">&#x6CE8;&#x610F;&#x5728;&#x4E0A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6587;&#x4EF6;&#x547D;&#x540D;&#x4E3A; <code>resume.txt</code>&#x3002;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E24;&#x70B9;&#xFF1A;</p>
<ul>
<li>&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x6587;&#x4EF6;&#x540D;&#x51B2;&#x7A81;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x6709;&#x60DF;&#x4E00;&#x7684; ID&#xFF0C;&#x6240;&#x4EE5;&#x5373;&#x4F7F;&#x4E0A;&#x4F20;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x4E3A; <code>resume.txt</code> &#x7684;&#x6587;&#x4EF6;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#x3002;</li>
<li>&#x7ED9;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x6269;&#x5C55;&#x540D;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x3002;LeanCloud &#x901A;&#x8FC7;&#x6269;&#x5C55;&#x540D;&#x6765;&#x5224;&#x65AD;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x6B63;&#x786E;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8981;&#x5C06;&#x4E00;&#x5F20; PNG &#x56FE;&#x7247;&#x5B58;&#x5230; <code>AVFile</code> &#x4E2D;&#xFF0C;&#x8981;&#x786E;&#x4FDD;&#x4F7F;&#x7528; <code>.png</code> &#x6269;&#x5C55;&#x540D;&#x3002;</li>
</ul>
<p version="edf77fb5846284283277b8f22c3170ac">&#x7136;&#x540E;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684; <code>saveInBackground</code> &#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x6587;&#x4EF6;&#x5B58;&#x5230; LeanCloud &#x4E0A;&#xFF1A;</p>
<pre version="a1a0debdf60118400ee0866b48038bd7"><code class="lang-objc">[file saveInBackground];
</code></pre>
<p version="9860756ee5d0e335cbf4ab45fae6d492">&#x6700;&#x7EC8;&#x5F53;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8C61;&#x64CD;&#x4F5C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x90A3;&#x6837;&#xFF0C;&#x5C06; <code>AVFile</code> &#x5173;&#x8054;&#x5230; <code>AVObject</code> &#x4E0A;&#x3002;</p>
<pre version="8647216751627f01705f2f2a73ac7b59"><code class="lang-objc">AVObject *obj = [AVObject objectWithClassName:@&quot;Post&quot;];
[obj setObject:@&quot;Joe Smit#&#x82B1;&#x513F;&#x4E0E;&#x5C11;&#x5E74;# &#x8FEA;&#x62DC;&#x75AF;&#x72C2;&#x4E4B;&#x65C5;&quot; forKey:@&quot;content&quot;];
[obj setObject:file         forKey:@&quot;attached&quot;];
[obj saveInBackground];
</code></pre>
<p version="5779a697ce8c8eaa0e82795c1c757a19">&#x91CD;&#x65B0;&#x83B7;&#x53D6;&#x8BE5;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528; <code>AVFile</code> &#x7684; <code>getData</code> &#x65B9;&#x6CD5;&#x3002;</p>
<pre version="213d2ca48fcac61d8ca2c1583c34df6e"><code class="lang-objc">AVFile *attachment = [anotherObj objectForKey:@&quot;attached&quot;];
NSData *binaryData = [attachment getData];
</code></pre>
<p version="2a944a6f44bc214a99530bc47a556773">&#x4E5F;&#x53EF;&#x4EE5;&#x50CF; <code>AVObject</code> &#x90A3;&#x6837;&#xFF0C;&#x4F7F;&#x7528; <code>getData</code> &#x7684;&#x5F02;&#x6B65;&#x7248;&#x672C;&#x3002;</p>
<p version="dab6087e45b7fdec9ed8034d69145d55"><strong>&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x4E00;&#x5C5E;&#x6027;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x6570;&#x7EC4;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x83B7;&#x53D6;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5FC5;&#x987B;&#x52A0;&#x4E0A; <code>includeKey:</code> &#x6765;&#x6307;&#x5B9A;&#x8BE5;&#x5C5E;&#x6027;&#x540D;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E2D;&#x8BE5;&#x5C5E;&#x6027;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x5C06;&#x662F; <code>AVObject</code> &#x6570;&#x7EC4;&#xFF0C;&#x800C;&#x4E0D;&#x662F; <code>AVFile</code> &#x6570;&#x7EC4;&#x3002;</strong></p>
<h3 id="-">&#x56FE;&#x50CF;</h3>
<p version="5c95c7d3ccb5f155fcaa81878f5982de">&#x5C06;&#x56FE;&#x50CF;&#x8F6C;&#x6210; <code>NSData</code> &#x518D;&#x4F7F;&#x7528; <code>AVFile</code> &#xFF0C;&#x5C31;&#x80FD;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230; LeanCloud &#x4E0A;&#x3002;</p>
<p version="a2881787a713501b0df4890babf4c204">&#x4F8B;&#x5982;&#xFF0C;&#x628A;&#x540D;&#x4E3A; <code>image</code> &#x7684; <code>UIImage</code> &#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x5230; <code>AVFile</code> &#x4E2D;&#xFF1A;</p>
<pre version="e9fdc30bd109a952225e296a1c200056"><code class="lang-objc">NSData *imageData = UIImagePNGRepresentation(image);
AVFile *imageFile = [AVFile fileWithName:@&quot;image.png&quot; data:imageData];
[imageFile save];

AVObject *userPost = [AVObject objectWithClassName:@&quot;Post&quot;];
[userPost setObject:@&quot;My trip to Dubai!&quot; forKey:@&quot;content&quot;];
[userPost setObject:imageFile            forKey:@&quot;attached&quot;];
[userPost save];
</code></pre>
<h3 id="-">&#x8FDB;&#x5EA6;&#x63D0;&#x793A;</h3>
<p version="f1b53315b8296723c8cba360e9a38fe1">&#x4F7F;&#x7528; <code>saveInBackgroundWithBlock:progressBlock:</code> &#x548C; <code>getDataInBackgroundWithBlock:progressBlock:</code> &#x53EF;&#x4EE5;&#x83B7;&#x53D6; <code>AVFile</code> &#x7684;&#x4E0A;&#x4F20;&#x6216;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;&#x3002;&#x6BD4;&#x5982;&#xFF1A;</p>
<pre version="a2fe161cb112e12723a6c5d26ee2e8a0"><code class="lang-objc">NSData *data = [@&quot;Working at LeanCloud is great!&quot; dataUsingEncoding:NSUTF8StringEncoding];
AVFile *file = [AVFile fileWithName:@&quot;resume.txt&quot; data:data];
[file saveInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
  // &#x6210;&#x529F;&#x6216;&#x5931;&#x8D25;&#x5904;&#x7406;...
} progressBlock:^(int percentDone) {
  // &#x66F4;&#x65B0;&#x8FDB;&#x5EA6;&#x6570;&#x636E;&#xFF0C;percentDone &#x4ECB;&#x4E8E; 0 &#x548C; 100&#x3002;
}];
</code></pre>
<h3 id="-">&#x5F97;&#x5230;&#x56FE;&#x50CF;&#x7684;&#x7F29;&#x7565;&#x56FE;</h3>
<p version="0a201fc7e9354023d7b1ce4100ba248b">&#x4FDD;&#x5B58;&#x56FE;&#x50CF;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x5728;&#x4E0B;&#x8F7D;&#x539F;&#x56FE;&#x4E4B;&#x524D;&#x5148;&#x5F97;&#x5230;&#x7F29;&#x7565;&#x56FE;&#xFF0C;&#x90A3;&#x4E48;&#x7528;&#x6211;&#x4EEC;&#x7684; API &#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x4F1A;&#x6613;&#x5982;&#x53CD;&#x638C;&#xFF1A;</p>
<pre version="a9d3e93d6f9047630353170f52875395"><code class="lang-objc">AVFile *file = [AVFile fileWithURL:@&quot;the-file-remote-url&quot;];
[file getThumbnail:YES width:100 height:100 withBlock:^(UIImage *image, NSError *error) {
    }];
</code></pre>
<h3 id="-">&#x6587;&#x4EF6;&#x5143;&#x6570;&#x636E;</h3>
<p version="5f6cd698b9bc1cbc57813ffdb758518c"><code>AVFile</code> &#x7684; <code>metaData</code> &#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x548C;&#x83B7;&#x53D6;&#x8BE5;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;&#x7684;&#x5143;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre version="b6fe284550056ccb4754efe05d7243df"><code class="lang-objc">AVFile *file = [AVFile fileWithName:@&quot;test.jpg&quot; contentsAtPath:@&quot;file-local-path&quot;];
[file.metaData setObject:@(100) forKey:@&quot;width&quot;];
[file.metaData setObject:@(100) forKey:@&quot;height&quot;];
[file.metaData setObject:@&quot;LeanCloud&quot; forKey:@&quot;author&quot;];
NSError *error = nil;
[file save:&amp;error];
</code></pre>
<h3 id="-">&#x5220;&#x9664;</h3>
<p version="df48881a2874d0683bc39d1c1e943edb">&#x5F53;&#x6587;&#x4EF6;&#x8F83;&#x591A;&#x65F6;&#xFF0C;&#x8981;&#x628A;&#x4E00;&#x4E9B;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x4ECE; LeanCloud &#x4E0A;&#x5220;&#x9664;&#xFF1A;</p>
<pre version="87df20a30916505ea6bce4d78468965d"><code class="lang-objc">[file deleteInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
}];
</code></pre>
<h3 id="-">&#x6E05;&#x9664;&#x7F13;&#x5B58;</h3>
<p version="6a043dd9547eaa94fee68a0d9384cb03"><code>AVFile</code> &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre version="e9a8efd058879906ce15e98a1798aad3"><code class="lang-objc">//&#x6E05;&#x9664;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7F13;&#x5B58;
- (void)clearCachedFile;

//&#x7C7B;&#x65B9;&#x6CD5;, &#x6E05;&#x9664;&#x6240;&#x6709;&#x7F13;&#x5B58;
+ (BOOL)clearAllCachedFiles;

//&#x7C7B;&#x65B9;&#x6CD5;, &#x6E05;&#x9664;&#x591A;&#x4E45;&#x4EE5;&#x524D;&#x7684;&#x7F13;&#x5B58;
+ (BOOL)clearCacheMoreThanDays:(NSInteger)numberOfDays;
</code></pre>
<h3 id="ios-9-">iOS 9 &#x9002;&#x914D;</h3>
<p version="ce115f0429833f9f205fc883041c4cc8">iOS 9 &#x9ED8;&#x8BA4;&#x5C4F;&#x853D;&#x4E86; HTTP &#x8BBF;&#x95EE;&#xFF0C;&#x53EA;&#x652F;&#x6301; HTTPS &#x8BBF;&#x95EE;&#x3002;LeanCloud &#x9664;&#x4E86;&#x6587;&#x4EF6;&#x7684; getData &#x4E4B;&#x5916;&#x7684; API &#x90FD;&#x662F;&#x652F;&#x6301; HTTPS &#x8BBF;&#x95EE;&#x7684;&#x3002; &#x73B0;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>
<h4 id="-">&#x9879;&#x76EE;&#x4E2D;&#x914D;&#x7F6E;&#x8BBF;&#x95EE;&#x7B56;&#x7565;</h4>
<p version="23f659da6be1af99f67d62053229f21d">&#x4E00;&#x662F;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x989D;&#x5916;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x8BE5;&#x63A5;&#x53E3;&#x7684;&#x8BBF;&#x95EE;&#x7B56;&#x7565;&#x3002;&#x9009;&#x62E9;&#x9879;&#x76EE;&#x7684; Info.plist&#xFF0C;&#x53F3;&#x51FB;&#x4EE5; Source Code &#x7684;&#x65B9;&#x5F0F;&#x6253;&#x5F00;&#x3002;&#x5728; plist -&gt; dict &#x8282;&#x70B9;&#x4E2D;&#x52A0;&#x5165;&#x4EE5;&#x4E0B;&#x6587;&#x672C;&#xFF1A;</p>
<pre version="9c05fa473a91ddab2b25d5e8e1959837"><code>  &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
  &lt;dict&gt;
    &lt;key&gt;NSExceptionDomains&lt;/key&gt;
    &lt;dict&gt;
      &lt;key&gt;clouddn.com&lt;/key&gt;
      &lt;dict&gt;
        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
        &lt;true/&gt;
      &lt;/dict&gt;
    &lt;/dict&gt;
  &lt;/dict&gt;
</code></pre><p version="151d54ce80f9fd1884b2328911081221">&#x6216;&#x8005;&#x5728; Target &#x7684; Info &#x6807;&#x7B7E;&#x4E2D;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF1A;</p>
<p><img src="images/ios_qiniu_http.png" alt="Info.plist Setting"></p>
<p version="9f257a0b33d75269e9cda8a2695e6a9b">&#x5982;&#x679C;&#x662F;&#x7F8E;&#x56FD;&#x8282;&#x70B9;&#xFF0C;&#x8BF7;&#x628A;&#x4E0A;&#x9762;&#x7684; <code>clouddn.com</code> &#x6362;&#x6210; <code>amazonaws.com</code>&#x3002;</p>
<p version="8d88953a49b7447d82d1eae31cd73e71">&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9879;&#x76EE;&#x9700;&#x8981;&#xFF0C;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684; HTTP &#x8BBF;&#x95EE;&#xFF0C;&#x66F4;&#x591A;&#x53EF;&#x53C2;&#x8003; <a href="https://github.com/ChenYilong/iOS9AdaptationTips">iOS 9 &#x9002;&#x914D;&#x7CFB;&#x5217;&#x6559;&#x7A0B;</a>&#x3002;</p>
<h4 id="-ssl-">&#x542F;&#x7528;&#x6587;&#x4EF6; SSL &#x57DF;&#x540D;</h4>
<p version="31381014c79351fb126314598bae0db2">&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x7F51;&#x7AD9;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#x8FDB;&#x5165;&#x76F8;&#x5173;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x70B9;&#x51FB;&#x4E0A;&#x65B9;&#x7684;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#x5361;&#xFF0C;&#x52FE;&#x9009;&#x300C;&#x542F;&#x7528;&#x6587;&#x4EF6; SSL &#x57DF;&#x540D;&#xFF08;&#x5BF9;&#x5E94; _File &#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x6587;&#x4EF6;&#xFF09;&#x300D;&#x9009;&#x9879;&#x3002;&#x8FD9;&#x6837;&#x4FBF;&#x542F;&#x7528;&#x4E86;&#x6587;&#x4EF6; SSL &#x57DF;&#x540D;&#xFF0C;&#x652F;&#x6301; HTTPS &#x8BBF;&#x95EE;&#x3002;&#x5982;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="images/ios_file_ssl_config.png" alt="File SSL Config"></p>
<p version="d367c8c5cee231ebb4f4baaa7b2bacef">&#x5982;&#x679C;&#x542F;&#x7528;&#x6587;&#x4EF6; SSL &#x57DF;&#x540D;&#x524D;&#x5DF2;&#x7ECF;&#x4FDD;&#x5B58;&#x4E86;&#x8BB8;&#x591A;&#x6587;&#x4EF6;&#xFF0C;&#x542F;&#x7528;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x7684; URL &#x4E5F;&#x4F1A;&#x8DDF;&#x7740;&#x53D8;&#x5316;&#xFF0C;&#x6765;&#x652F;&#x6301; HTTPS &#x8BBF;&#x95EE;&#x3002;</p>
<p version="27c9c35933db063fe2653341de7b6e26">&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x90FD;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x7EC4;&#x4EF6; LeanMessage &#x4E5F;&#x7528;&#x4E86; AVFile &#x6765;&#x4FDD;&#x5B58;&#x6D88;&#x606F;&#x7684;&#x56FE;&#x7247;&#x3001;&#x97F3;&#x9891;&#x7B49;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x628A;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x5199;&#x5165;&#x5230;&#x4E86;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x4E2D;&#x3002;&#x5F00;&#x542F;&#x4E86;&#x6587;&#x4EF6; SSL &#x57DF;&#x540D;&#x540E;&#xFF0C;&#x5386;&#x53F2;&#x6D88;&#x606F;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x5730;&#x5740;&#x5C06;&#x4E0D;&#x4F1A;&#x50CF;&#x63A7;&#x5236;&#x53F0;&#x91CC; _File &#x8868;&#x90A3;&#x6837;&#x8DDF;&#x7740;&#x6539;&#x53D8;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x5B9E;&#x65F6;&#x901A;&#x4FE1;&#x7EC4;&#x4EF6;&#x5E76;&#x5DF2;&#x4E0A;&#x7EBF;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E00;&#x3002;</p>
<h2 id="-">&#x7528;&#x6237;</h2>
<p version="4a4741f2d1d89eb033c5d869652d44a8">&#x7528;&#x6237;&#x662F;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6838;&#x5FC3;&#x3002;&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x81EA;&#x5DF1;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x79EF;&#x7D2F;&#x66F4;&#x591A;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5C31;&#x80FD;&#x7ED9;&#x81EA;&#x5DF1;&#x5E26;&#x6765;&#x66F4;&#x591A;&#x7684;&#x521B;&#x4F5C;&#x52A8;&#x529B;&#x3002;&#x56E0;&#x6B64; LeanCloud &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7684;&#x7528;&#x6237;&#x7C7B; <code>AVUser</code>&#xFF0C;&#x6765;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x7528;&#x6237;&#x8D26;&#x6237;&#x7BA1;&#x7406;&#x6240;&#x9700;&#x7684;&#x529F;&#x80FD;&#x3002;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x7C7B;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x8D26;&#x6237;&#x529F;&#x80FD;&#x3002;</p>
<p version="35061111586c14109e7c752f49aab7a4"><code>AVUser</code> &#x662F;&#x4E00;&#x4E2A; <code>AVObject</code> &#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x5B83;&#x7EE7;&#x627F;&#x4E86; <code>AVObject</code> &#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5177;&#x6709; <code>AVObject</code> &#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;<code>AVUser</code> &#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x4E0E;&#x7528;&#x6237;&#x8D26;&#x6237;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<h3 id="-">&#x5C5E;&#x6027;</h3>
<p version="e52f76472599f91ed3eb1712da73996d"><code>AVUser</code> &#x9664;&#x4E86;&#x7EE7;&#x627F; <code>AVObject</code> &#x7684;&#x5C5E;&#x6027;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x51E0;&#x4E2A;&#x7279;&#x6709;&#x7684;&#x5C5E;&#x6027;&#xFF1A;</p>
<ul>
<li><code>username</code> : &#x7528;&#x6237;&#x7684;&#x7528;&#x6237;&#x540D;&#xFF08;&#x5FC5;&#x9700;&#xFF09;</li>
<li><code>password</code> : &#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF08;&#x5FC5;&#x9700;&#xFF09;</li>
<li><code>email</code> : &#x7528;&#x6237;&#x7684;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#xFF08;&#x53EF;&#x9009;&#xFF09;</li>
</ul>
<h3 id="-">&#x6CE8;&#x518C;</h3>
<p version="fdf2b13241f6d5fda67d736c4bccb830">&#x8981;&#x6C42;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x53EF;&#x80FD;&#x662F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8981;&#x505A;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x6CE8;&#x518C;&#x8FC7;&#x7A0B;&#xFF1A;</p>
<pre version="0661d4305335a3fab7e6edcb42b46cda"><code class="lang-objc">AVUser *user = [AVUser user];
user.username = @&quot;hjiang&quot;;
user.password =  @&quot;f32@ds*@&amp;dsa&quot;;
user.email = @&quot;hang@leancloud.rocks&quot;;
[user setObject:@&quot;186-1234-0000&quot; forKey:@&quot;phone&quot;];

[user signUpInBackgroundWithBlock:^(BOOL succeeded, NSError *error) {
    if (succeeded) {

    } else {

    }
}];
</code></pre>
<p version="605840827b59b2966b3794a9755f4ea4">&#x5728;&#x6CE8;&#x518C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x4F1A;&#x68C0;&#x67E5;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#x662F;&#x60DF;&#x4E00;&#x7684;&#x3002;</p>
<p version="637cefbab8f6debd566533dbb7e21216"><strong>&#x670D;&#x52A1;&#x7AEF;&#x8FD8;&#x4F1A;&#x5BF9;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x4E0D;&#x53EF;&#x9006;&#x7684;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x4F1A;&#x660E;&#x6587;&#x4FDD;&#x5B58;&#x4EFB;&#x4F55;&#x5BC6;&#x7801;&#x3002;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E94;&#x7528;&#x5207;&#x52FF;&#x518D;&#x6B21;&#x5BF9;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x7B49;&#x529F;&#x80FD;&#x5931;&#x6548;&#x3002;</strong></p>
<p version="01b618b7999e579c49240c46b4f7b598">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>signUpInBackgroundWithBlock</code> &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x662F; <code>saveInBackground</code> &#x65B9;&#x6CD5;&#x3002;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7684; <code>signUp</code> &#x65B9;&#x6CD5;&#x53EF;&#x4F9B;&#x4F7F;&#x7528;&#x3002;</p>
<p version="7775f1465403bbfceea5fe64ef4e0a99">&#x50CF;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#xFF0C;&#x5728;&#x53EF;&#x80FD;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x7248;&#x672C;&#x7684; <code>signUp</code> &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E3B; UI &#x7EBF;&#x7A0B;&#x7684;&#x54CD;&#x5E94;&#x3002;&#x5177;&#x4F53;&#x65B9;&#x6CD5;&#x8BF7;&#x53C2;&#x8003; <a href="/api-docs/iOS/index.html">API &#x6587;&#x6863;</a> &#x3002;</p>
<p version="fa8f73d5e42ca6505ac31343be9c8eca">&#x5982;&#x679C;&#x6CE8;&#x518C;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;&#x8FD4;&#x56DE;&#x7684;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x3002;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x7528;&#x6237;&#x540D;&#x6216;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5DF2;&#x7ECF;&#x88AB;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x6CE8;&#x518C;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x63D0;&#x793A;&#x7528;&#x6237;&#x5C1D;&#x8BD5;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7528;&#x6237;&#x540D;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8981;&#x6C42;&#x7528;&#x6237;&#x7528; Email &#x505A;&#x4E3A;&#x7528;&#x6237;&#x540D;&#x6CE8;&#x518C;&#x3002;</p>
<p version="af3c54056512c84473a05330eb16128b">&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x65F6;&#x53EF;&#x4EE5;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x300C;&#x7528;&#x6237;&#x540D;&#x300D;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;&#x7528;&#x6237;&#x7684; Email &#x5730;&#x5740;&#xFF0C;&#x4EE5;&#x540E;&#x5728;&#x7528;&#x6237;&#x5FD8;&#x8BB0;&#x4E86;&#x5BC6;&#x7801;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; LeanCloud &#x63D0;&#x4F9B;&#x7684;&#x300C;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x300D;&#x529F;&#x80FD;&#x3002;</p>
<p version="5885e62a39bb4d8ecd31e110adca05b7">&#x5173;&#x4E8E;&#x81EA;&#x5B9A;&#x4E49;&#x90AE;&#x4EF6;&#x6A21;&#x677F;&#x548C;&#x9A8C;&#x8BC1;&#x94FE;&#x63A5;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x535A;&#x5BA2;&#x6587;&#x7AE0; <a href="http://blog.leancloud.cn/blog/2014/01/09/zi-ding-yi-ying-yong-nei-yong-hu-zhong-she-mi-ma-he-you-xiang-yan-zheng-ye-mian/">&#x300A;&#x81EA;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x5185;&#x7528;&#x6237;&#x91CD;&#x8BBE;&#x5BC6;&#x7801;&#x548C;&#x90AE;&#x7BB1;&#x9A8C;&#x8BC1;&#x9875;&#x9762;&#x300B;</a>&#x3002;</p>
<h3 id="-">&#x767B;&#x5F55;</h3>
<p version="92b4baa75a71636af0f5c3b450993bd7">&#x8BA9;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x8D26;&#x6237;&#xFF0C;&#x53EF;&#x4EE5;&#x8C03;&#x7528; <code>AVUser</code> &#x7C7B;&#x7684; <code>loginInBackground</code> &#x65B9;&#x6CD5;&#x3002;</p>
<pre version="0791e1257697442acdc9b18fc25f8d61"><code class="lang-objc">[AVUser logInWithUsernameInBackground:@&quot;username&quot; password:@&quot;password&quot; block:^(AVUser *user, NSError *error) {
    if (user != nil) {

    } else {

    }
}];
</code></pre>
<h3 id="-">&#x5F53;&#x524D;&#x7528;&#x6237;</h3>
<p version="6858b89a3476b29a75635d40e614fc30">&#x5982;&#x679C;&#x7528;&#x6237;&#x5728;&#x6BCF;&#x6B21;&#x6253;&#x5F00;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#x90FD;&#x8981;&#x767B;&#x5F55;&#xFF0C;&#x8FD9;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x7684; <code>currentUser</code> &#x5BF9;&#x8C61;&#x3002;</p>
<p version="1bfefee69785737da6e846c3f98b7d7a">&#x6BCF;&#x5F53;&#x7528;&#x6237;&#x6210;&#x529F;&#x6CE8;&#x518C;&#x6216;&#x7B2C;&#x4E00;&#x6B21;&#x6210;&#x529F;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x5C31;&#x5728;&#x672C;&#x5730;&#x78C1;&#x76D8;&#x4E2D;&#x7F13;&#x5B58;&#x4E0B;&#x8FD9; &#x4E2A;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#xFF0C;&#x4F9B;&#x4E0B;&#x6B21;&#x8C03;&#x7528;&#xFF1A;</p>
<pre version="5d57371122f39dadec95937a5bd21dc3"><code class="lang-objc">AVUser *currentUser = [AVUser currentUser];
if (currentUser != nil) {
    // &#x5141;&#x8BB8;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x5E94;&#x7528;
} else {
    //&#x7F13;&#x5B58;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x53EF;&#x6253;&#x5F00;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x754C;&#x9762;&#x2026;
}
</code></pre>
<p version="f1e013fb100bedb181954eb337b783c0">&#x8981;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre version="da05a31711454ea1350f3ddc54af3dc4"><code class="lang-objc">[AVUser logOut];  //&#x6E05;&#x9664;&#x7F13;&#x5B58;&#x7528;&#x6237;&#x5BF9;&#x8C61;
AVUser *currentUser = [AVUser currentUser]; // &#x73B0;&#x5728;&#x7684;currentUser&#x662F;nil&#x4E86;
</code></pre>
<h3 id="-">&#x91CD;&#x7F6E;&#x5BC6;&#x7801;</h3>
<p version="f9462bb668e32c54f1f54158683e6f62">&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x5E94;&#x7528;&#x4E00;&#x65E6;&#x52A0;&#x5165;&#x8D26;&#x6237;&#x5BC6;&#x7801;&#x7CFB;&#x7EDF;&#xFF0C;&#x90A3;&#x4E48;&#x80AF;&#x5B9A;&#x4F1A;&#x6709;&#x7528;&#x6237;&#x5FD8;&#x8BB0;&#x5BC6;&#x7801;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x5B89;&#x5168;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p version="784527be38ba5d7f8a8f7daba484164f">&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x7684;&#x8FC7;&#x7A0B;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x8F93;&#x5165;&#x6CE8;&#x518C;&#x7684;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#x5373;&#x53EF;&#xFF1A;</p>
<pre version="16e14d5fea6004dbbf806d981e87a082"><code class="lang-objc">[AVUser requestPasswordResetForEmailInBackground:@&quot;myemail@example.com&quot; block:^(BOOL succeeded, NSError *error) {
    if (succeeded) {

    } else {

    }
}];
</code></pre>
<p version="9f8b21e738721ab0259c93f9c4acb9d7">&#x5BC6;&#x7801;&#x91CD;&#x7F6E;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x7528;&#x6237;&#x8F93;&#x5165;&#x6CE8;&#x518C;&#x7684;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#xFF0C;&#x8BF7;&#x6C42;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#xFF1B;</li>
<li>LeanCloud &#x5411;&#x8BE5;&#x90AE;&#x7BB1;&#x53D1;&#x9001;&#x4E00;&#x5C01;&#x5305;&#x542B;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x7684;&#x7279;&#x6B8A;&#x94FE;&#x63A5;&#x7684;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#xFF1B;</li>
<li>&#x7528;&#x6237;&#x70B9;&#x51FB;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x94FE;&#x63A5;&#x540E;&#xFF0C;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x9875;&#x9762;&#x4F1A;&#x6253;&#x5F00;&#xFF0C;&#x8BA9;&#x4ED6;&#x4EEC;&#x8F93;&#x5165;&#x65B0;&#x5BC6;&#x7801;&#xFF1B;</li>
<li>&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x5DF2;&#x88AB;&#x91CD;&#x7F6E;&#x4E3A;&#x65B0;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#x3002;</li>
</ol>
<p version="9864ef46f23a83adcba0c11812c2eb4c">&#x5173;&#x4E8E;&#x81EA;&#x5B9A;&#x4E49;&#x90AE;&#x4EF6;&#x6A21;&#x677F;&#x548C;&#x9A8C;&#x8BC1;&#x94FE;&#x63A5;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x8FD9;&#x7BC7; <a href="http://blog.leancloud.cn/blog/2014/01/09/zi-ding-yi-ying-yong-nei-yong-hu-zhong-she-mi-ma-he-you-xiang-yan-zheng-ye-mian/">&#x535A;&#x5BA2;</a> &#x3002;</p>
<h3 id="-">&#x4FEE;&#x6539;&#x5BC6;&#x7801;</h3>
<p version="2563871f13bd6ed405cc2e862c5bb5ba">&#x5F53;&#x7528;&#x6237;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B58;&#x5728;&#x5BC6;&#x7801;&#x65F6;&#xFF0C;&#x81EA;&#x7136;&#x4F1A;&#x6709;&#x66F4;&#x6539;&#x5BC6;&#x7801;&#x7684;&#x9700;&#x6C42;&#x3002;&#x6211;&#x4EEC;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x6CD5;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x9A8C;&#x8BC1;&#x8001;&#x5BC6;&#x7801;&#x548C;&#x4FEE;&#x6539;&#x65B0;&#x5BC6;&#x7801;&#xFF1A;</p>
<pre version="29e49248d95f9f97eda74edce94d0054"><code class="lang-objc">[AVUser logInWithUsername:@&quot;username&quot; password:@&quot;111111&quot;]; //&#x8BF7;&#x786E;&#x4FDD;&#x7528;&#x6237;&#x5F53;&#x524D;&#x7684;&#x6709;&#x6548;&#x767B;&#x5F55;&#x72B6;&#x6001;
[[AVUser currentUser] updatePassword:@&quot;111111&quot; newPassword:@&quot;123456&quot; block:^(id object, NSError *error) {
    //&#x5904;&#x7406;&#x7ED3;&#x679C;
}];
</code></pre>
<p version="4cec9fa4bdb7294ad9bcd72b4aa09e90">&#x5982;&#x679C;&#x8981;&#x6C42;&#x66F4;&#x6539;&#x5BC6;&#x7801;&#x7684;&#x7528;&#x6237;&#x5C1A;&#x672A;&#x767B;&#x5F55;&#x3001;&#x539F;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#x6216;&#x7528;&#x6237;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x90FD;&#x4F1A;&#x901A;&#x8FC7;&#x56DE;&#x8C03;&#x8FD4;&#x56DE;&#x64CD;&#x4F5C;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;</p>
<h3 id="-">&#x624B;&#x673A;&#x53F7;&#x7801;&#x9A8C;&#x8BC1;</h3>
<p version="29f28b431047dfd6027368f347656501">&#x5982;&#x679C;&#x5728;&#x5E94;&#x7528;&#x8BBE;&#x7F6E;&#x7684; <strong>&#x5E94;&#x7528;&#x9009;&#x9879;</strong> &#x4E2D;&#x6253;&#x5F00;&#x4E86; <strong>&#x9A8C;&#x8BC1;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x624B;&#x673A;&#x53F7;&#x7801;</strong> &#x9009;&#x9879;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x7528;&#x6237;&#x5728;&#x6CE8;&#x518C;&#x65F6;&#x586B;&#x5199;&#x5B8C;&#x624B;&#x673A;&#x5B57;&#x6BB5;&#x540E;&#xFF0C;LeanCloud &#x4F1A;&#x81EA;&#x52A8;&#x5411;&#x8BE5;&#x624B;&#x673A;&#x53F7;&#x7801;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x9A8C;&#x8BC1;&#x77ED;&#x4FE1;&#xFF0C;&#x7528;&#x6237;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x540E;&#xFF0C;&#x8BE5;&#x7528;&#x6237;&#x5373;&#x88AB;&#x6807;&#x8BC6;&#x4E3A;&#x5DF2;&#x7ECF;&#x9A8C;&#x8BC1;&#x8FC7;&#x624B;&#x673A;&#x4E86;&#x3002;</p>
<p version="f565162bc29b85b0bc109924f4289023">&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x5C06;&#x6CE8;&#x518C;&#x9A8C;&#x8BC1;&#x7801;&#x53D1;&#x9001;&#x5230;&#x7528;&#x6237;&#x624B;&#x673A;&#x4E0A;&#xFF1A;</p>
<pre version="06277d1a6eae99f667d1bd771cb6e5c2"><code class="lang-objc">    AVUser *user = [AVUser user];
    user.username = @&quot;hjiang&quot;;
    user.password =  @&quot;f32@ds*@&amp;dsa&quot;;
    user.email = @&quot;hang@leancloud.rocks&quot;;
    user.mobilePhoneNumber = @&quot;18612340000&quot;;
    NSError *error = nil;
    [user signUp:&amp;error];
</code></pre>
<p version="65b364a9d6dc367270b621fcc2b51234">&#x8C03;&#x7528;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x5373;&#x53EF;&#x9A8C;&#x8BC1;&#x9A8C;&#x8BC1;&#x7801;:</p>
<pre version="b93c945738776fd0011bcd0e4cf7ecac"><code class="lang-objc">    [AVUser verifyMobilePhone:@&quot;123456&quot; withBlock:^(BOOL succeeded, NSError *error) {
        //&#x9A8C;&#x8BC1;&#x7ED3;&#x679C;
    }];
</code></pre>
<p version="21030d9e9758fba2c61b950b6d419341">&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x7528;&#x6237;&#x7684; <code>mobilePhoneVerified</code> &#x5C5E;&#x6027;&#x53D8;&#x4E3A; <code>true</code>&#xFF0C;&#x5E76;&#x4F1A;&#x89E6;&#x53D1;&#x8C03;&#x7528;&#x4E91;&#x4EE3;&#x7801;&#x7684; <code>AV.Cloud.onVerifed(&apos;sms&apos;, function)</code> &#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="-">&#x624B;&#x673A;&#x53F7;&#x7801;&#x767B;&#x5F55;</h3>
<p version="6e82612588d0d7e14c3aecc400dfe2e6">&#x5F53;&#x624B;&#x673A;&#x53F7;&#x7801;&#x901A;&#x8FC7;&#x9A8C;&#x8BC1;&#x540E;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x624B;&#x673A;&#x53F7;&#x7801;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x3002;&#x624B;&#x673A;&#x53F7;&#x7801;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x624B;&#x673A;&#x53F7;&#x7801;&#xFF0B;&#x5BC6;&#x7801;&#x65B9;&#x5F0F;</li>
<li>&#x624B;&#x673A;&#x53F7;&#x7801;&#xFF0B;&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x7801;</li>
</ul>
<p version="651780abd3fdd5b4871552364f4c4139">&#x7528;&#x300C;&#x624B;&#x673A;&#x53F7;&#x7801;&#xFF0B;&#x5BC6;&#x7801;&#x300D;&#x6765;&#x767B;&#x5F55;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre version="bb3f419b8d003b33eee1cd5c3399d914"><code class="lang-objc">    [AVUser logInWithMobilePhoneNumberInBackground:@&quot;18612340000&quot; password:@&quot;yourpassword&quot; block:^(AVUser *user, NSError *error) {

    }];
</code></pre>
<p version="9722a9bb9c7309480f4dda50b9a84741">&#x53D1;&#x9001;&#x767B;&#x5F55;&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x7801;&#xFF1A;</p>
<pre version="98acc76359cca2b48a84d70c0d64ffbc"><code class="lang-objc">    [AVUser requestLoginSmsCode:@&quot;123456&quot; withBlock:^(BOOL succeeded, NSError *error) {

    }];
</code></pre>
<p version="0608d8babca9a1622a2a3d859b300cfe">&#x6700;&#x540E;&#x4F7F;&#x7528;&#x300C;&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x7801;&#xFF0B;&#x624B;&#x673A;&#x53F7;&#x7801;&#x300D;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#xFF1A;</p>
<pre version="6912506ac7ac7ddbde2b8a1e622861ce"><code class="lang-objc">    [AVUser logInWithMobilePhoneNumberInBackground:@&quot;18612340000&quot; smsCode:smsCode block:^(AVUser *user, NSError *error) {

    }];
</code></pre>
<h3 id="-">&#x624B;&#x673A;&#x53F7;&#x7801;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;</h3>
<p version="ca60cb2946cf9c66ade2bf6968e30676">&#x4E0E;&#x4F7F;&#x7528;&#x300C;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x300D;&#x7C7B;&#x4F3C;&#xFF0C;&#x300C;&#x624B;&#x673A;&#x53F7;&#x7801;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x300D;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x7801;&#xFF1A;</p>
<pre version="b1a1def65c5cafa9a995693904a9a309"><code class="lang-objc">[AVUser requestPasswordResetWithPhoneNumber:@&quot;18612340000&quot; block:^(BOOL succeeded, NSError *error) {
    if (succeeded) {

    } else {

    }
}];
</code></pre>
<p version="664194623a79534d01dc8c48ef83a702">&#x6CE8;&#x610F;&#xFF01;&#x7528;&#x6237;&#x9700;&#x8981;&#x5148;&#x7ED1;&#x5B9A;&#x624B;&#x673A;&#x53F7;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x77ED;&#x4FE1;&#x9A8C;&#x8BC1;&#x7801;&#x6765;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#xFF1A;</p>
<pre version="814a4fe841c45a94ec680bd209f4a8c1"><code class="lang-objc">[AVUser resetPasswordWithSmsCode:@&quot;123456&quot; newPassword:@&quot;password&quot; block:^(BOOL succeeded, NSError *error) {
    if (succeeded) {

    } else {

    }
}];
</code></pre>
<h3 id="-">&#x67E5;&#x8BE2;</h3>
<p version="872f45193507ae0ac778f8f4c2c91f9b"><strong>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x65B0;&#x521B;&#x5EFA;&#x5E94;&#x7528;&#x7684; <code>_User</code> &#x8868;&#x7684;&#x67E5;&#x8BE2;&#x6743;&#x9650;&#x9ED8;&#x8BA4;&#x662F;&#x5173;&#x95ED;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x63A8;&#x8350;&#x4F60;&#x5728;&#x4E91;&#x5F15;&#x64CE;&#x91CC;&#x5C01;&#x88C5;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#xFF0C;&#x53EA;&#x67E5;&#x8BE2;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x907F;&#x514D;&#x5F00;&#x653E;&#x7528;&#x6237;&#x8868;&#x7684;&#x5168;&#x90E8;&#x67E5;&#x8BE2;&#x6743;&#x9650;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; class &#x6743;&#x9650;&#x8BBE;&#x7F6E;&#x6253;&#x5F00;&#x67E5;&#x8BE2;&#x6743;&#x9650;&#xFF0C;&#x8BF7;&#x53C2;&#x8003; <a href="data_security.html#Class_&#x7EA7;&#x522B;&#x7684;&#x6743;&#x9650;">&#x6570;&#x636E;&#x4E0E;&#x5B89;&#x5168; - Class &#x7EA7;&#x522B;&#x7684;&#x6743;&#x9650;</a>&#x3002;</strong></p>
<p version="762da5129119a28ff9db5fc2052eeaee">&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7279;&#x6B8A;&#x7684;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x6765;&#x5B8C;&#x6210;&#xFF1A;</p>
<pre version="8dc68b8423bec3564a6f4b86f7f386f4"><code class="lang-objc">AVQuery *query = [AVUser query];
[query whereKey:@&quot;gender&quot; equalTo:@&quot;female&quot;];
[query findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
    if (error == nil) {

    } else {

    }
}];
</code></pre>
<h3 id="-">&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x67E5;&#x770B;&#x7528;&#x6237;&#x8868;</h3>
<p version="4f4b85e10350a999d3bf9aeae0589852">&#x7528;&#x6237;&#x8868;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x8868;&#xFF0C;&#x4E13;&#x95E8;&#x5B58;&#x50A8; <code>AVUser</code> &#x5BF9;&#x8C61;&#x3002;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#xFF0C;&#x6253;&#x5F00; LeanCloud &#x8D26;&#x6237;&#x9875;&#x9762;&#x7684; <strong>&#x5B58;&#x50A8;</strong> &#x83DC;&#x5355;&#xFF0C;&#x627E;&#x5230;&#x540D;&#x4E3A; <code>_User</code> &#x7684;&#x8868;&#x6765;&#x67E5;&#x770B;&#x6570;&#x636E;&#x3002;</p>
<h3 id="-">&#x533F;&#x540D;&#x7528;&#x6237;</h3>
<p version="ea06078d777e8d77e79e0402de5afd74">&#x8981;&#x521B;&#x5EFA;&#x533F;&#x540D;&#x7528;&#x6237;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>AVAnonymousUtils</code> &#x6765;&#x5B8C;&#x6210;&#x3002;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>AVUser</code> &#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x7528;&#x6237;&#x540D;&#x4E3A;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6B64;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>currentUser</code>&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x4FEE;&#x6539;&#x3001;&#x4FDD;&#x5B58;&#x3001;&#x767B;&#x51FA;&#x7B49;&#x64CD;&#x4F5C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>currentUser</code> &#x6765;&#x5B8C;&#x6210;&#x3002;</p>
<pre version="97db526c5ec72e4100397df5c1cee0d7"><code class="lang-objc">    [AVAnonymousUtils logInWithBlock:^(AVUser *user, NSError *error) {
        if (user) {

        } else {

        }
    }];
</code></pre>
<h2 id="-">&#x5730;&#x7406;&#x4F4D;&#x7F6E;</h2>
<p version="810994a0d87a86ac99dd0b9d4472f212">LeanCloud &#x5141;&#x8BB8;&#x7528;&#x6237;&#x6839;&#x636E;&#x5730;&#x7403;&#x7684;&#x7ECF;&#x5EA6;&#x548C;&#x7EAC;&#x5EA6;&#x5750;&#x6807;&#x8FDB;&#x884C;&#x57FA;&#x4E8E;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x7684;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x3002;&#x53EA;&#x8981;&#x5C06; <code>AVGeoPoint</code> &#x6DFB;&#x52A0;&#x5230; <code>AVObject</code> &#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x5373;&#x53EF;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x5982;&#x627E;&#x51FA;&#x79BB;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6700;&#x8FD1;&#x7684;&#x4FE1;&#x606F;&#x6216;&#x5730;&#x70B9;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<h3 id="-">&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x5BF9;&#x8C61;</h3>
<p version="22ceeff4212513d8ecae794b8d9935f7">&#x9996;&#x5148;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>AVGeoPoint</code> &#x5BF9;&#x8C61;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5317;&#x7EAC; 39.9 &#x5EA6;&#x3001;&#x4E1C;&#x7ECF; 116.4 &#x5EA6;&#x7684; <code>AVGeoPoint</code> &#x5BF9;&#x8C61;&#xFF08;LeanCloud &#x5317;&#x4EAC;&#x529E;&#x516C;&#x5BA4;&#x6240;&#x5728;&#x5730;&#xFF09;&#xFF1A;</p>
<pre version="1bd6de0b118e2e9530492d22e4e1fb5f"><code class="lang-objc">AVGeoPoint *point = [AVGeoPoint geoPointWithLatitude:39.9 longitude:116.4];
</code></pre>
<p version="6db6e44b9f320ebb769bdf754a348997">&#x6DFB;&#x52A0;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre version="963f6b1c2beb8773edbb70ddeec5533a"><code class="lang-objc">[postObject setObject:point forKey:@&quot;location&quot;];
</code></pre>
<h3 id="-">&#x5730;&#x7406;&#x67E5;&#x8BE2;</h3>
<p version="4acbfc4b1d8d8128f02f09f8811d3f3d">&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x5DF2;&#x4FDD;&#x5B58;&#x4E86;&#x4E00;&#x4E9B;&#x5730;&#x7406;&#x5750;&#x6807;&#x6570;&#x636E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528; <code>AVQuery</code> &#x5BF9;&#x8C61;&#x7684; <code>whereNear</code> &#x65B9;&#x6CD5;&#x6765;&#x8BD5;&#x7740;&#x627E;&#x51FA;&#x6700;&#x63A5;&#x8FD1;&#x67D0;&#x4E2A;&#x70B9;&#x7684;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre version="839a49e5f08c2157444ba68f4e44ef1e"><code class="lang-objc">AVObject *userObject = nil;
AVGeoPoint *userLocation =  (AVGeoPoint *) [userObject objectForKey:@&quot;location&quot;];
AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;location&quot; nearGeoPoint:userLocation];
//&#x83B7;&#x53D6;&#x6700;&#x63A5;&#x8FD1;&#x7528;&#x6237;&#x5730;&#x70B9;&#x7684;10&#x6761;&#x5FAE;&#x535A;
query.limit = 10;
NSArray&lt;AVObject *&gt; nearPosts = [query findObjects];
</code></pre>
<p version="759b9e3c186e78cec0256439c092b9ed">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;<code>nearPosts</code> &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E0E; <code>userLocation</code> &#x8FD9;&#x4E00;&#x70B9;&#x6309;&#x8DDD;&#x79BB;&#x6392;&#x5E8F;&#xFF08;&#x7531;&#x8FD1;&#x5230;&#x8FDC;&#xFF09;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3002;&#x6CE8;&#x610F;&#xFF1A;<strong>&#x5982;&#x679C;&#x5728;&#x6B64;&#x4E4B;&#x540E;&#x53C8;&#x4F7F;&#x7528;&#x4E86; <code>orderByAscending:</code> &#x6216; <code>orderByDescending:</code> &#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x6309;&#x8DDD;&#x79BB;&#x6392;&#x5E8F;&#x4F1A;&#x88AB;&#x65B0;&#x6392;&#x5E8F;&#x8986;&#x76D6;&#x3002;</strong></p>
<p version="bd822cecb080fce3f6928ceca3e23e36">&#x8981;&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x8DDD;&#x79BB;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>whereWithinKilometers</code> &#x3001; <code>whereWithinMiles</code> &#x6216; <code>whereWithinRadians</code> &#x65B9;&#x6CD5;&#x3002;</p>
<p version="8b90b2934010bbd14a916ccaa873f0a4">&#x8981;&#x67E5;&#x627E;&#x4F4D;&#x4E8E;&#x77E9;&#x5F62;&#x8303;&#x56F4;&#x5185;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>whereWithinGeoBox</code> &#x6765;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre version="5553425d4ce0b3d2673ae0c6b5ab98fe"><code class="lang-objc">AVGeoPoint *point1 = [AVGeoPoint geoPointWithLatitude:39.97 longitude:116.33];
AVGeoPoint *point2 = [AVGeoPoint geoPointWithLatitude:39.99 longitude:116.37];
AVQuery *query = [AVQuery queryWithClassName:@&quot;Post&quot;];
[query whereKey:@&quot;location&quot; withinGeoBoxFromSouthwest:point1 toNortheast:point2];
NSArray&lt;AVObject *&gt; *posts = [query findObjects];
</code></pre>
<h3 id="-">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3>
<p version="d927a10f4d10979e6f24a03417c9688f">&#x76EE;&#x524D;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4EE5;&#x4E0B;&#x65B9;&#x9762;&#xFF1A;</p>
<ul>
<li>&#x6BCF;&#x4E2A; <code>AVObject</code> &#x6570;&#x636E;&#x5BF9;&#x8C61;&#x4E2D;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A; <code>AVGeoPoint</code> &#x5BF9;&#x8C61;&#x3002;</li>
<li>&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x7684;&#x70B9;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;&#x89C4;&#x5B9A;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7EAC;&#x5EA6;&#x7684;&#x8303;&#x56F4;&#x5E94;&#x8BE5;&#x662F;&#x5728; <code>-90.0</code> &#x5230; <code>90.0</code> &#x4E4B;&#x95F4;&#xFF0C;&#x7ECF;&#x5EA6;&#x7684;&#x8303;&#x56F4;&#x5E94;&#x8BE5;&#x662F;&#x5728; <code>-180.0</code> &#x5230; <code>180.0</code> &#x4E4B;&#x95F4;&#x3002;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x7684;&#x7ECF;&#x7EAC;&#x5EA6;&#x8D85;&#x51FA;&#x4E86;&#x4EE5;&#x4E0A;&#x8303;&#x56F4;&#xFF0C;&#x5C06;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x9519;&#x8BEF;&#x3002;</li>
<li>iOS 8.0 &#x4E4B;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x5B9A;&#x4F4D;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x8C03;&#x7528; <code>[locationManager requestWhenInUseAuthorization]</code> &#x6216; <code>[locationManager requestAlwaysAuthorization]</code> &#x6765;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x300C;&#x4F7F;&#x7528;&#x671F;&#x6388;&#x6743;&#x300D;&#x6216;&#x300C;&#x6C38;&#x4E45;&#x6388;&#x6743;&#x300D;&#xFF0C;&#x800C;&#x8FD9;&#x4E24;&#x4E2A;&#x8BF7;&#x6C42;&#x6388;&#x6743;&#x9700;&#x8981;&#x5728; <code>info.plist</code> &#x91CC;&#x9762;&#x5BF9;&#x5E94;&#x6DFB;&#x52A0; <code>NSLocationWhenInUseUsageDescription</code> &#x6216; <code>NSLocationAlwaysUsageDescription</code> &#x7684;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x503C;&#x4E3A;&#x5F00;&#x542F;&#x5B9A;&#x4F4D;&#x670D;&#x52A1;&#x539F;&#x56E0;&#x7684;&#x63CF;&#x8FF0;&#x3002;SDK &#x5185;&#x90E8;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x300C;&#x4F7F;&#x7528;&#x671F;&#x6388;&#x6743;&#x300D;&#x3002;</li>
</ul>
<h2 id="-">&#x8C03;&#x7528;&#x4E91;&#x4EE3;&#x7801;</h2>
<h3 id="-">&#x8C03;&#x7528;&#x4E91;&#x4EE3;&#x7801;&#x51FD;&#x6570;</h3>
<p version="54cbe96199f9743e1a2295c2b8c4c6bf">&#x4F7F;&#x7528; <code>AVCloud</code> &#x7C7B;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x6765;&#x8C03;&#x7528;&#x4E91;&#x4EE3;&#x7801;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x51FD;&#x6570;&#xFF1A;</p>
<pre version="932bcac3c67731b3477c3d3990e3b5da"><code class="lang-objc">    NSDictionary *parameters=@{...};

    [AVCloud callFunctionInBackground:@&quot;aFunctionName&quot; withParameters:parameters block:^(id object, NSError *error) {
        // &#x6267;&#x884C;&#x7ED3;&#x679C;
    }];
</code></pre>
<p version="8fedd411d286c3b083c9b48630842bba"><code>aFunctionName</code> &#x662F;&#x51FD;&#x6570;&#x7684;&#x540D;&#x79F0;&#xFF0C;<code>parameters</code> &#x662F;&#x4F20;&#x5165;&#x7684;&#x51FD;&#x6570;&#x53C2;&#x6570;&#xFF0C;<code>block</code> &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x8C03;&#x7528;&#x7ED3;&#x679C;&#x7684;&#x56DE;&#x8C03;&#x4F20;&#x5165;&#x3002;</p>
<h3 id="-">&#x533A;&#x5206;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x8C03;&#x7528;</h3>
<p version="9d7901f9a84d827d550c9619f473e748">&#x4E91;&#x4EE3;&#x7801;&#x533A;&#x5206;&#x300C;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x300D;&#x548C;&#x300C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x300D;&#xFF0C;&#x4F7F;&#x7528; <code>AVCloud</code> &#x7684; <code>setProductionMode</code> &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x73AF;&#x5883;&#xFF1A;</p>
<pre version="fac031ee0bcdd3f261cba90b7996fd35"><code class="lang-objc">[AVCloud setProductionMode:NO];
</code></pre>
<p version="9b3df58b973eecb3eb8999fbece85994">&#x5176;&#x4E2D; <code>NO</code> &#x8868;&#x793A;&#x300C;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x300D;&#xFF0C;&#x9ED8;&#x8BA4;&#x8C03;&#x7528;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E91;&#x4EE3;&#x7801;&#x3002;</p>


      </div>
    </div>
    <!-- .col-md-9 -->
  </div>
  <!-- .row -->

</div>
<!-- .container-fluid -->

<footer class="footer" role="contentinfo">
  <div class="container-fluid">
    <a href="http://leancloud.cn/" class="logo font-logo pull-left">
      LeanCloud
    </a>

    <ul class="footer-links pull-right">
      <li><a href="/docs/">&#x6587;&#x6863;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="/pricing.html">&#x4EF7;&#x683C;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="/docs/sdk_down.html">&#x4E0B;&#x8F7D;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="/apps.html" target="_self">App</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="http://leancloud.cn/docs/faq.html" target="_self">&#x5E38;&#x89C1;&#x95EE;&#x9898;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="http://ticket.leancloud.cn/" target="_self"><span class="mobile-hide">&#x6280;&#x672F;</span>&#x652F;&#x6301;</a></li>
      <!-- <li><a href="http://ticket.leancloud.cn/tickets?token={{user.session_token || 'Gs5Xw4vjyCznrP6OcgMheOWDuatVpbFPiL78eMo6JC0dENB8'}}" target="_blank"><span class="mobile-hide">用户</span>反馈</a></li> -->
      <li class="muted">&#xB7;</li>
      <li><a href="//status.leancloud.cn/"><span class="mobile-hide">&#x5065;&#x5EB7;</span>&#x72B6;&#x6001;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="http://forum.leancloud.cn/">&#x793E;&#x533A;</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="http://blog.leancloud.cn/">Blog</a></li>
      <li class="muted">&#xB7;</li>
      <li><a href="https://github.com/leancloud/docs">&#x6587;&#x6863;&#x6E90;&#x7801;</a></li>
    </ul>
  </div>
</footer>

<div id="comment-container" ng-class="{&apos;no-comments&apos;: currentComments.length&lt;1}">
  <div class="comment-head">
    {{allComment[version]}}
    <span class="close" ng-click="closeCommentModal()">&#xD7;</span>
  </div>
  <div class="comment-body">
    <div class="comment-list" ng-class="{&apos;no-login&apos;: !currentCommentUser.username}">
      <ul>
        <li ng-show="currentComments.length&lt;1">&#x6682;&#x65E0;&#x8BC4;&#x8BBA;</li>
        <li ng-repeat="comment in currentComments">
          <div class="comment-author">{{comment.author}}</div>
          <div class="comment-timestamp">{{ comment.updatedAt | date: &apos;yyyy-MM-dd HH:mm:ss &apos;}}</div>
          <div class="comment-content">{{comment.content}}</div>
        </li>
      </ul>
    </div>
  </div>
  <div class="comment-compose" ng-show="currentCommentUser.username">
    <div class="form-group"> <textarea class="form-control comment-content" ng-model="commentContent"></textarea></div>
    <div class="form-meta">
      <!-- 您已登录为 <b>{{currentCommentUser.username}}</b> -->
      <button class="btn btn-sm btn-default create-comment pull-right" ng-click="createComment($event)">
        <i class="icon icon-chat-bold"></i> &#x8BC4;&#x8BBA;
      </button>
    </div>
  </div>
  <div class="comment-compose no-login" ng-show="!currentCommentUser.username">
    &#x60A8;&#x9700;&#x8981; <a class="comment-login" ng-click="loginComment()">&#x6388;&#x6743;</a> &#x540E;&#x624D;&#x80FD;&#x8BC4;&#x8BBA;
  </div>
</div>

<script src="https://download.leancloud.cn/sdk/latest.js"></script>




<script src="custom/js/lib/contents.js"></script>
<script src="custom/js/md.js"></script>




<script type="text/javascript">
ZeroClipboard.setDefaults({
    moviePath: 'custom/js/lib/zeroclipboard/zeroclipboard.swf'
});
$(function(){
    // $('#content [version]').each(function(k,v){
    //     var version = $(v).attr('version');
    //     $(v).append('<div class="toggle-comment" ng-click="showCommentDialog(\''+version+'\''+',$event)">+ <span> {{}}</span> </div>');
    // })

    $('#content [version]').each(function(k,v){
        var version = $(v).attr('version');
        $(v).append('<div class="inline-comment-wrap" version="'+version+'" all-comment="allComment" showDialogMethod="showCommentDialog()" lc-comment> </div>');
    });

    angular.element(document).ready(function() {

      angular.bootstrap(document, ['app']);

    });
});

</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42629236-7', 'auto');
  ga('send', 'pageview');

</script>






</body>

</html>
